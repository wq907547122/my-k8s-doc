(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{205:function(n,s,e){"use strict";e.r(s);var a=e(0),r=Object(a.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"安装minikube"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装minikube","aria-hidden":"true"}},[n._v("#")]),n._v(" 安装minikube")]),n._v(" "),e("p",[n._v("安装的要求\n"),e("br")]),n._v(" "),e("h2",{attrs:{id:"安装docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker","aria-hidden":"true"}},[n._v("#")]),n._v(" 安装docker")]),n._v(" "),e("ul",[e("li",[n._v("略")])]),n._v(" "),e("h2",{attrs:{id:"安装kubectl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装kubectl","aria-hidden":"true"}},[n._v("#")]),n._v(" 安装kubectl")]),n._v(" "),e("ul",[e("li",[n._v("step1:访问官方github网址下载kubectl的二进制文件")])]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("https://github.com/kubernetes/kubernetes/releases \n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"/images/minikube/3.png",alt:""}})]),n._v(" "),e("ul",[e("li",[n._v("step 2: 找到想使用的发布版本，在每个发布版本的最后一行有类似“CHANGELOG-1.16.md”这样的内容，点击超链进入；")]),n._v(" "),e("li",[n._v("step 3: 然后进入“Client Binaries”区域；")]),n._v(" "),e("li",[n._v("step 4: 选择和目标机器系统匹配的二进制包下载；\n"),e("img",{attrs:{src:"/images/minikube/4.png",alt:""}})]),n._v(" "),e("li",[n._v("step 5: 解压缩，放入/usr/local/bin目录；\ntar -zxvf kubernetes-client-linux-amd64.tar.gz")])]),n._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[n._v("tar")]),n._v(" -zxvf kubernetes-client-linux-amd64.tar.gz\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("cd")]),n._v(" kubernetes/client/bin/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[n._v("cp")]),n._v(" kubectl /usr/local/bin/\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br")])]),e("ul",[e("li",[n._v("step 6：kubectl是否安装成功\n"),e("img",{attrs:{src:"/images/minikube/5.png",alt:""}})])]),n._v(" "),e("h2",{attrs:{id:"安装minikube-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装minikube-2","aria-hidden":"true"}},[n._v("#")]),n._v(" 安装minikube")]),n._v(" "),e("p",[n._v("已经是在虚拟机上安装，需要添加 --vm-driver=none 参数")]),n._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[n._v("minikube start --vm-driver"),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("none\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br")])]),e("ul",[e("li",[n._v("--vm-driver=none这是说表示minikube运行在宿主机不需要KVM或者VirtualBox，但根据官方文档的介绍，我们还是不采用这种方法")]),n._v(" "),e("li",[n._v("在下载的因为google需要翻墙，所以我们不能下载安装需要的docker镜像，我看可以通过手工下载阿里的镜像")])]),n._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[n._v("需要将需要下载的镜像的所有前缀修改为：registry.cn-hangzhou.aliyuncs.com/google_containers\n下面是全部的前缀需要下载的镜像：\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/etcd:3.3.15-0\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/kube-controller-manager:v1.16.2\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/k8s-dns-sidecar-amd64:1.14.13\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/k8s-dns-dnsmasq-nanny-amd64:1.14.13\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/coredns:1.6.2\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/k8s-dns-kube-dns-amd64:1.14.13\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/kube-apiserver:v1.16.2\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/kube-addon-manager:v9.0.2 docker pull registry.cn-hangzhou.aliyuncs.com/google_containers/kubernetes-dashboard-amd64:v1.10.1\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/kube-proxy:v1.16.2\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/storage-provisioner:v1.8.1\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/kube-scheduler:v1.16.2\ndocker pull registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1\n\n然后我们使用tag,修改为安装minikube需要的镜像：执行如下的命令\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/etcd:3.3.15-0 k8s.gcr.io/etcd:3.3.15-0\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/kube-controller-manager:v1.16.2 k8s.gcr.io/kube-controller-manager:v1.16.2\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/k8s-dns-sidecar-amd64:1.14.13 k8s.gcr.io/k8s-dns-sidecar-amd64:1.14.13\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/k8s-dns-dnsmasq-nanny-amd64:1.14.13 k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64:1.14.13\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/coredns:1.6.2 k8s.gcr.io/coredns:1.6.2\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/k8s-dns-kube-dns-amd64:1.14.13 k8s.gcr.io/k8s-dns-kube-dns-amd64:1.14.13\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/kube-apiserver:v1.16.2 k8s.gcr.io/kube-apiserver:v1.16.2\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/kube-addon-manager:v9.0.2 k8s.gcr.io/kube-addon-manager:v9.0.2 \ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/kubernetes-dashboard-amd64:v1.10.1 k8s.gcr.io/kubernetes-dashboard-amd64:v1.10.1\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/kube-proxy:v1.16.2 k8s.gcr.io/kube-proxy:v1.16.2\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/storage-provisioner:v1.8.1 gcr.io/k8s-minikube/storage-provisioner:v1.8.1\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/kube-scheduler:v1.16.2 k8s.gcr.io/kube-scheduler:v1.16.2\ndocker tag registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 k8s.gcr.io/pause:3.1\n\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);