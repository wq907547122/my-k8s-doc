(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{213:function(e,t,a){"use strict";a.r(t);var s=a(0),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°","aria-hidden":"true"}},[e._v("#")]),e._v(" æ¦‚è¿°")]),e._v(" "),a("h2",{attrs:{id:"è®¤è¯†-kubernetes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¤è¯†-kubernetes","aria-hidden":"true"}},[e._v("#")]),e._v(" è®¤è¯† Kubernetes?")]),e._v(" "),a("p",[e._v("Kubernetes æ˜¯ä¸€ä¸ªè·¨ä¸»æœºé›†ç¾¤çš„"),a("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/overview/what-is-kubernetes/",target:"_blank"}},[e._v("å¼€æºçš„å®¹å™¨è°ƒåº¦å¹³å°ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨åŒ–åº”ç”¨å®¹å™¨çš„éƒ¨ç½²ã€æ‰©å±•å’Œæ“ä½œ")]),e._v(" , æä¾›ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„ã€‚\n"),a("br"),e._v("\nä½¿ç”¨ Kubernetes, æ‚¨å¯ä»¥å¿«é€Ÿé«˜æ•ˆåœ°å“åº”å®¢æˆ·éœ€æ±‚:")]),e._v(" "),a("ul",[a("li",[e._v("å¿«é€Ÿã€å¯é¢„æµ‹åœ°éƒ¨ç½²æ‚¨çš„åº”ç”¨ç¨‹åº")]),e._v(" "),a("li",[e._v("æ‹¥æœ‰å³æ—¶æ‰©å±•åº”ç”¨ç¨‹åºçš„èƒ½åŠ›")]),e._v(" "),a("li",[e._v("ä¸å½±å“ç°æœ‰ä¸šåŠ¡çš„æƒ…å†µä¸‹ï¼Œæ— ç¼åœ°å‘å¸ƒæ–°åŠŸèƒ½")]),e._v(" "),a("li",[e._v("ä¼˜åŒ–ç¡¬ä»¶èµ„æºï¼Œé™ä½æˆæœ¬")])]),e._v(" "),a("p",[e._v("æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªè½¯ä»¶å’Œå·¥å…·çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä»¥å‡è½»æ‚¨åœ¨å…¬å…±äº‘æˆ–ç§æœ‰äº‘è¿è¡Œåº”ç”¨ç¨‹åºçš„è´Ÿæ‹…ã€‚")]),e._v(" "),a("h3",{attrs:{id:"kubernetes-å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹","aria-hidden":"true"}},[e._v("#")]),e._v(" Kubernetes å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹:")]),e._v(" "),a("ul",[a("li",[a("b",[e._v("ä¾¿æºæ€§:")]),e._v(" æ— è®ºå…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€æ··åˆäº‘è¿˜æ˜¯å¤šäº‘æ¶æ„éƒ½å…¨é¢æ”¯æŒ")]),e._v(" "),a("li",[a("b",[e._v("å¯æ‰©å±•:")]),e._v(" å®ƒæ˜¯æ¨¡å—åŒ–ã€å¯æ’æ‹”ã€å¯æŒ‚è½½ã€å¯ç»„åˆçš„ï¼Œæ”¯æŒå„ç§å½¢å¼çš„æ‰©å±•")]),e._v(" "),a("li",[a("b",[e._v("è‡ªä¿®å¤:")]),e._v(" å®ƒå¯ä»¥è‡ªä¿æŒåº”ç”¨çŠ¶æ€ã€å¯è‡ªé‡å¯ã€è‡ªå¤åˆ¶ã€è‡ªç¼©æ”¾çš„ï¼Œé€šè¿‡å£°æ˜å¼è¯­æ³•æä¾›äº†å¼ºå¤§çš„è‡ªä¿®å¤èƒ½åŠ›\nKubernetes é¡¹ç›®ç”± Google å…¬å¸åœ¨ 2014 å¹´å¯åŠ¨ã€‚Kubernetes å»ºç«‹åœ¨ Google å…¬å¸è¶…è¿‡åä½™å¹´çš„è¿ç»´ç»éªŒåŸºç¡€ä¹‹ä¸Šï¼ŒGoogle æ‰€æœ‰çš„åº”ç”¨éƒ½è¿è¡Œåœ¨å®¹å™¨ä¸Š, å†ä¸ç¤¾åŒºä¸­æœ€å¥½çš„æƒ³æ³•å’Œå®è·µç›¸ç»“åˆï¼Œä¹Ÿè®¸å®ƒæ˜¯æœ€å—æ¬¢è¿çš„å®¹å™¨å¹³å°ã€‚")])]),e._v(" "),a("br"),e._v("\nå‡†å¤‡å¥½"),a("a",{attrs:{href:"https://kubernetes.io/docs/setup/",target:"_blank"}},[e._v("å¼€å§‹")]),e._v("?\n"),a("h3",{attrs:{id:"ä¸ºä»€ä¹ˆæ˜¯å®¹å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆæ˜¯å®¹å™¨","aria-hidden":"true"}},[e._v("#")]),e._v(" ä¸ºä»€ä¹ˆæ˜¯å®¹å™¨?")]),e._v(" "),a("p",[e._v("æŸ¥çœ‹æ­¤æ–‡ï¼Œå¯ä»¥äº†è§£ä¸ºä»€ä¹ˆæ‚¨è¦ä½¿ç”¨å®¹å™¨ "),a("a",{attrs:{href:"https://aucouranton.com/2014/06/13/linux-containers-parallels-lxc-openvz-docker-and-more/",target:"_blank"}},[e._v("å®¹å™¨")]),e._v("?\n"),a("img",{attrs:{src:"/images/gainian/why_containers.svg",alt:""}}),e._v("\nä¼ ç»Ÿ éƒ¨ç½²åº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„åŒ…ç®¡ç†å™¨åœ¨ä¸»æœºä¸Šå®‰è£…åº”ç”¨ä¾èµ–ï¼Œä¹‹åå†å®‰è£…åº”ç”¨ç¨‹åºã€‚è¿™æ— ç–‘å°†åº”ç”¨ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€åº”ç”¨çš„é…ç½®ã€åº”ç”¨ä¾èµ–åº“å’Œåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸å®¿ä¸»æœºæ“ä½œç³»ç»Ÿè¿›è¡Œäº†ç´§è€¦åˆã€‚åœ¨æ­¤æƒ…å¢ƒä¸‹ï¼Œå¯ä»¥é€šè¿‡æ„å»ºä¸å¯æ”¹å˜çš„è™šæ‹Ÿæœºé•œåƒç‰ˆæœ¬ï¼Œé€šè¿‡é•œåƒç‰ˆæœ¬å®ç°å¯é¢„æµ‹çš„å‘å¸ƒå’Œå›æ»šï¼Œä½†æ˜¯è™šæ‹Ÿæœºå®åœ¨æ˜¯å¤ªé‡é‡çº§äº†ï¼Œä¸”é•œåƒä½“ç§¯å¤ªåºå¤§ï¼Œä¾¿æ·æ€§å·®ã€‚\n"),a("br"),e._v("\næ–°æ–¹å¼ æ˜¯åŸºäºæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–è€Œä¸æ˜¯ç¡¬ä»¶çº§è™šæ‹ŸåŒ–æ–¹æ³•æ¥éƒ¨ç½²å®¹å™¨ã€‚å®¹å™¨ä¹‹é—´å½¼æ­¤éš”ç¦»å¹¶ä¸ä¸»æœºéš”ç¦»ï¼šå®ƒä»¬å…·æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¸èƒ½çœ‹åˆ°å½¼æ­¤çš„è¿›ç¨‹ï¼Œå¹¶ä¸”å®ƒä»¬æ‰€ä½¿ç”¨çš„è®¡ç®—èµ„æºæ˜¯å¯ä»¥è¢«é™åˆ¶çš„ã€‚å®ƒä»¬æ¯”è™šæ‹Ÿæœºæ›´å®¹æ˜“æ„å»ºï¼Œå¹¶ä¸”å› ä¸ºå®ƒä»¬ä¸åº•å±‚åŸºç¡€æ¶æ„å’Œä¸»æœºæ–‡ä»¶ç³»ç»Ÿéš”ç¦»ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥è·¨äº‘å’Œæ“ä½œç³»ç»Ÿå¿«é€Ÿåˆ†å‘ã€‚\n"),a("br"),e._v("\nç”±äºå®¹å™¨ä½“ç§¯å°ä¸”å¯åŠ¨å¿«ï¼Œå› æ­¤å¯ä»¥åœ¨æ¯ä¸ªå®¹å™¨é•œåƒä¸­æ‰“åŒ…ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™ç§ä¸€å¯¹ä¸€çš„åº”ç”¨é•œåƒå…³ç³»æ‹¥æœ‰å¾ˆå¤šå¥½å¤„ã€‚ä½¿ç”¨å®¹å™¨ï¼Œä¸éœ€è¦ä¸å¤–éƒ¨çš„åŸºç¡€æ¶æ„ç¯å¢ƒç»‘å®š, å› ä¸ºæ¯ä¸€ä¸ªåº”ç”¨ç¨‹åºéƒ½ä¸éœ€è¦å¤–éƒ¨ä¾èµ–ï¼Œæ›´ä¸éœ€è¦ä¸å¤–éƒ¨çš„åŸºç¡€æ¶æ„ç¯å¢ƒä¾èµ–ã€‚å®Œç¾è§£å†³äº†ä»å¼€å‘åˆ°ç”Ÿäº§ç¯å¢ƒçš„ä¸€è‡´æ€§é—®é¢˜ã€‚\n"),a("br"),e._v("\nå®¹å™¨åŒæ ·æ¯”è™šæ‹Ÿæœºæ›´åŠ é€æ˜ï¼Œè¿™æœ‰åŠ©äºç›‘æµ‹å’Œç®¡ç†ã€‚å°¤å…¶æ˜¯å®¹å™¨è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸç”±åŸºç¡€è®¾æ–½ç®¡ç†ï¼Œè€Œä¸æ˜¯ç”±å®¹å™¨å†…çš„è¿›ç¨‹å¯¹å¤–éšè—æ—¶æ›´æ˜¯å¦‚æ­¤ã€‚æœ€åï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºç”¨å®¹å™¨å°è£…ï¼Œç®¡ç†å®¹å™¨éƒ¨ç½²å°±ç­‰åŒäºç®¡ç†åº”ç”¨ç¨‹åºéƒ¨ç½²ã€‚\n"),a("br"),e._v("\nå®¹å™¨ä¼˜ç‚¹æ‘˜è¦:")]),e._v(" "),a("ul",[a("li",[a("b",[e._v("æ•æ·çš„åº”ç”¨ç¨‹åºåˆ›å»ºå’Œéƒ¨ç½²:")]),e._v(" ä¸è™šæ‹Ÿæœºé•œåƒç›¸æ¯”ï¼Œå®¹å™¨é•œåƒæ›´å®¹æ˜“åˆ›å»ºï¼Œæå‡äº†ç¡¬ä»¶çš„ä½¿ç”¨æ•ˆç‡ã€‚")]),e._v(" "),a("li",[a("b",[e._v("æŒç»­å¼€å‘ã€é›†æˆå’Œéƒ¨ç½²:")]),e._v(" æä¾›å¯é ä¸é¢‘ç¹çš„å®¹å™¨é•œåƒæ„å»ºå’Œéƒ¨ç½²ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åŠå¿«é€Ÿçš„å›æ»š (ç”±äºé•œåƒä¸å¯å˜æ€§).")]),e._v(" "),a("li",[a("b",[e._v("å…³æ³¨å¼€å‘ä¸è¿ç»´çš„åˆ†ç¦»:")]),e._v(" åœ¨æ„å»º/å‘å¸ƒæ—¶åˆ›å»ºåº”ç”¨ç¨‹åºå®¹å™¨é•œåƒï¼Œä»è€Œå°†åº”ç”¨ç¨‹åºä¸åŸºç¡€æ¶æ„åˆ†ç¦»ã€‚")]),e._v(" "),a("li",[a("b",[e._v("å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒçš„ä¸€è‡´æ€§:")]),e._v(" åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œä¸äº‘ä¸­ä¸€æ ·ã€‚")]),e._v(" "),a("li",[a("b",[e._v("äº‘å’Œæ“ä½œç³»ç»Ÿçš„å¯ç§»æ¤æ€§:")]),e._v(" å¯è¿è¡Œåœ¨ Ubuntu, RHEL, CoreOS, å†…éƒ¨éƒ¨ç½², Google å®¹å™¨å¼•æ“å’Œå…¶ä»–ä»»ä½•åœ°æ–¹ã€‚")]),e._v(" "),a("li",[a("b",[e._v("ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„ç®¡ç†:")]),e._v(" æå‡äº†æ“ä½œç³»ç»Ÿçš„æŠ½è±¡çº§åˆ«ï¼Œä»¥ä¾¿åœ¨ä½¿ç”¨é€»è¾‘èµ„æºçš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œåº”ç”¨ç¨‹åºã€‚")]),e._v(" "),a("li",[a("b",[e._v("æ¾è€¦åˆã€åˆ†å¸ƒå¼ã€å¼¹æ€§ä¼¸ç¼© "),a("a",{attrs:{href:"https://martinfowler.com/articles/microservices.html",target:"_blank"}},[e._v("å¾®æœåŠ¡")]),e._v(":")]),e._v(" åº”ç”¨ç¨‹åºè¢«åˆ†æˆæ›´å°ï¼Œæ›´ç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œå¯ä»¥åŠ¨æ€éƒ¨ç½²å’Œç®¡ç† - è€Œä¸æ˜¯å·¨å‹å•ä½“åº”ç”¨è¿è¡Œåœ¨ä¸“ç”¨çš„å¤§å‹æœºä¸Šã€‚")]),e._v(" "),a("li",[a("b",[e._v("èµ„æºéš”ç¦»:")]),e._v(" é€šè¿‡å¯¹åº”ç”¨è¿›è¡Œèµ„æºéš”ç¦»ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„é¢„æµ‹åº”ç”¨ç¨‹åºæ€§èƒ½ã€‚")]),e._v(" "),a("li",[a("b",[e._v("èµ„æºåˆ©ç”¨:")]),e._v(" é«˜æ•ˆç‡å’Œé«˜å¯†åº¦")])]),e._v(" "),a("h3",{attrs:{id:"ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦-kubernetesï¼Œå®ƒèƒ½åšä»€ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦-kubernetesï¼Œå®ƒèƒ½åšä»€ä¹ˆ","aria-hidden":"true"}},[e._v("#")]),e._v(" ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Kubernetesï¼Œå®ƒèƒ½åšä»€ä¹ˆ?")]),e._v(" "),a("p",[e._v("æœ€åŸºç¡€çš„ï¼ŒKubernetes å¯ä»¥åœ¨ç‰©ç†æˆ–è™šæ‹Ÿæœºé›†ç¾¤ä¸Šè°ƒåº¦å’Œè¿è¡Œåº”ç”¨ç¨‹åºå®¹å™¨ã€‚ç„¶è€Œï¼ŒKubernetes è¿˜å…è®¸å¼€å‘äººå‘˜ä»ç‰©ç†å’Œè™šæ‹Ÿæœºâ€™è„±ç¦»â€™ï¼Œä»ä»¥ä¸»æœºä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„è½¬ç§»åˆ°ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„ï¼Œè¿™æ ·å¯ä»¥æä¾›å®¹å™¨å›ºæœ‰çš„å…¨éƒ¨ä¼˜ç‚¹å’Œç›Šå¤„ã€‚Kubernetes æä¾›äº†åŸºç¡€è®¾æ–½æ¥æ„å»ºä¸€ä¸ªçœŸæ­£ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„å¼€å‘ç¯å¢ƒã€‚\n"),a("br"),e._v("\nKubernetes æ»¡è¶³äº†ç”Ÿäº§ä¸­è¿è¡Œåº”ç”¨ç¨‹åºçš„è®¸å¤šå¸¸è§çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/pods/pod/",target:"_blank"}},[e._v("Pod")]),e._v(" æä¾›å¤åˆåº”ç”¨å¹¶ä¿ç•™ä¸€ä¸ªåº”ç”¨ä¸€ä¸ªå®¹å™¨çš„å®¹å™¨æ¨¡å‹,")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/storage/volumes/",target:"_blank"}},[e._v("æŒ‚è½½å¤–éƒ¨å­˜å‚¨")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/configuration/secret/",target:"_blank"}},[e._v("Secretç®¡ç†")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/",target:"_blank"}},[e._v("åº”ç”¨å¥åº·æ£€æŸ¥")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/overview/what-is-kubernetes/",target:"_blank"}},[e._v("å‰¯æœ¬åº”ç”¨å®ä¾‹")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/",target:"_blank"}},[e._v("æ¨ªå‘è‡ªåŠ¨æ‰©ç¼©å®¹")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/services-networking/connect-applications-service/",target:"_blank"}},[e._v("æœåŠ¡å‘ç°")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/services-networking/service/",target:"_blank"}},[e._v("è´Ÿè½½å‡è¡¡")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/run-application/rolling-update-replication-controller/",target:"_blank"}},[e._v("æ»šåŠ¨æ›´æ–°")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/debug-application-cluster/resource-usage-monitoring/",target:"_blank"}},[e._v("èµ„æºç›‘æµ‹")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/cluster-administration/logging/",target:"_blank"}},[e._v("æ—¥å¿—é‡‡é›†å’Œå­˜å‚¨")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/debug-application-cluster/debug-application-introspection/",target:"_blank"}},[e._v("æ”¯æŒè‡ªæ£€å’Œè°ƒè¯•")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/reference/access-authn-authz/authorization/",target:"_blank"}},[e._v("è®¤è¯å’Œé‰´æƒ")]),e._v("\nè¿™æä¾›äº†å¹³å°å³æœåŠ¡ (PAAS) çš„ç®€å•æ€§ä»¥åŠåŸºç¡€æ¶æ„å³æœåŠ¡ (IAAS) çš„çµæ´»æ€§ï¼Œå¹¶ä¿ƒè¿›è·¨åŸºç¡€è®¾æ–½ä¾›åº”å•†çš„å¯ç§»æ¤æ€§ã€‚\n"),a("br"),e._v("\næœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… "),a("a",{attrs:{href:"https://kubernetes.io/docs/home/",target:"_blank"}},[e._v("ç”¨æˆ·æŒ‡å—")])])]),e._v(" "),a("h3",{attrs:{id:"ä¸ºä»€ä¹ˆ-kubernetes-æ˜¯ä¸€ä¸ªå¹³å°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆ-kubernetes-æ˜¯ä¸€ä¸ªå¹³å°","aria-hidden":"true"}},[e._v("#")]),e._v(" ä¸ºä»€ä¹ˆ Kubernetes æ˜¯ä¸€ä¸ªå¹³å°?")]),e._v(" "),a("p",[e._v("Kubernetes æä¾›äº†å¾ˆå¤šçš„åŠŸèƒ½ï¼Œæ€»ä¼šæœ‰æ–°çš„åœºæ™¯å—ç›Šäºæ–°ç‰¹æ€§ã€‚å®ƒå¯ä»¥ç®€åŒ–åº”ç”¨ç¨‹åºçš„å·¥ä½œæµï¼ŒåŠ å¿«å¼€å‘é€Ÿåº¦ã€‚è¢«å¤§å®¶è®¤å¯çš„åº”ç”¨ç¼–æ’é€šå¸¸éœ€è¦æœ‰è¾ƒå¼ºçš„è‡ªåŠ¨åŒ–èƒ½åŠ›ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Kubernetes è¢«è®¾è®¡ä½œä¸ºæ„å»ºç»„ä»¶å’Œå·¥å…·çš„ç”Ÿæ€ç³»ç»Ÿå¹³å°ï¼Œä»¥ä¾¿æ›´è½»æ¾åœ°éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚\n"),a("br"),e._v(" "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/",target:"_blank"}},[e._v("Label")]),e._v(" å…è®¸ç”¨æˆ·æŒ‰ç…§è‡ªå·±çš„æ–¹å¼ç»„ç»‡ç®¡ç†å¯¹åº”çš„èµ„æºã€‚ "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/",target:"_blank"}},[e._v("æ³¨è§£")]),e._v(" ä½¿ç”¨æˆ·èƒ½å¤Ÿä»¥è‡ªå®šä¹‰çš„æè¿°ä¿¡æ¯æ¥ä¿®é¥°èµ„æºï¼Œä»¥é€‚ç”¨äºè‡ªå·±çš„å·¥ä½œæµï¼Œå¹¶ä¸ºç®¡ç†å·¥å…·æä¾›æ£€æŸ¥ç‚¹çŠ¶æ€çš„ç®€å•æ–¹æ³•ã€‚\n"),a("br"),e._v("\næ­¤å¤–ï¼Œ"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/components/",target:"_blank"}},[e._v("Kubernetes æ§åˆ¶é¢ (Control Plane)")]),e._v(" æ˜¯æ„å»ºåœ¨ç›¸åŒçš„ "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/kubernetes-api/",target:"_blank"}},[e._v("APIs")]),e._v(" ä¸Šé¢ï¼Œå¼€å‘äººå‘˜å’Œç”¨æˆ·éƒ½å¯ä»¥ç”¨ã€‚ç”¨æˆ·å¯ä»¥ç¼–å†™è‡ªå·±çš„æ§åˆ¶å™¨ï¼Œ è°ƒåº¦å™¨ç­‰ç­‰ï¼Œå¦‚æœè¿™ä¹ˆåšï¼Œæ ¹æ®æ–°åŠ çš„è‡ªå®šä¹‰ "),a("a",{attrs:{href:"https://github.com/kubernetes/kubernetes/blob/master/docs/design/extending-api.md",target:"_blank"}},[e._v("API")]),e._v(" ï¼Œå¯ä»¥æ‰©å±•å½“å‰çš„é€šç”¨ "),a("a",{attrs:{href:"https://kubernetes.io/docs/reference/kubectl/overview/",target:"_blank"}},[e._v("CLI å‘½ä»¤è¡Œå·¥å…·")]),e._v("ã€‚\n"),a("br"),e._v("\nè¿™ç§ "),a("a",{attrs:{href:"https://git.k8s.io/community/contributors/design-proposals/architecture/principles.md"}},[e._v("è®¾è®¡")]),e._v(" ä½¿å¾—è®¸å¤šå…¶ä»–ç³»ç»Ÿå¯ä»¥æ„å»ºåœ¨ "),a("a",{attrs:{href:"https://github.com/kubernetes/kubernetes/",target:"_blank"}},[e._v("Kubernetes")]),e._v(" ä¹‹ä¸Šã€‚")]),e._v(" "),a("h3",{attrs:{id:"kubernetes-ä¸æ˜¯ä»€ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ä¸æ˜¯ä»€ä¹ˆ","aria-hidden":"true"}},[e._v("#")]),e._v(" Kubernetes ä¸æ˜¯ä»€ä¹ˆ:")]),e._v(" "),a("p",[e._v("Kubernetes ä¸æ˜¯ä¸€ä¸ªä¼ ç»Ÿæ„ä¹‰ä¸Šï¼ŒåŒ…ç½—ä¸‡è±¡çš„ PaaS (å¹³å°å³æœåŠ¡) ç³»ç»Ÿã€‚æˆ‘ä»¬ä¿ç•™ç”¨æˆ·é€‰æ‹©çš„è‡ªç”±ï¼Œè¿™éå¸¸é‡è¦ã€‚")]),e._v(" "),a("ul",[a("li",[e._v("Kubernetes ä¸é™åˆ¶æ”¯æŒçš„åº”ç”¨ç¨‹åºç±»å‹ã€‚ å®ƒä¸æ’æ‰‹åº”ç”¨ç¨‹åºæ¡†æ¶ (ä¾‹å¦‚ "),a("a",{attrs:{href:"https://wildfly.org/",target:"_blank"}},[e._v("Wildfly")]),e._v("), ä¸é™åˆ¶æ”¯æŒçš„è¯­è¨€è¿è¡Œæ—¶ (ä¾‹å¦‚ Java, Python, Ruby)ï¼Œåªè¿åˆç¬¦åˆ "),a("a",{attrs:{href:"https://12factor.net/",target:"_blank"}},[e._v("12ç§å› ç´ çš„åº”ç”¨ç¨‹åº")]),e._v("ï¼Œä¹Ÿä¸åŒºåˆ†â€åº”ç”¨ç¨‹åºâ€ä¸â€æœåŠ¡â€ã€‚Kubernetes æ—¨åœ¨æ”¯æŒæå…¶å¤šæ ·åŒ–çš„å·¥ä½œè´Ÿè½½ï¼ŒåŒ…æ‹¬æ— çŠ¶æ€ã€æœ‰çŠ¶æ€å’Œæ•°æ®å¤„ç†å·¥ä½œè´Ÿè½½ã€‚å¦‚æœåº”ç”¨å¯ä»¥åœ¨å®¹å™¨ä¸­è¿è¡Œï¼Œå®ƒå°±å¯ä»¥åœ¨ Kubernetes ä¸Šè¿è¡Œã€‚")]),e._v(" "),a("li",[e._v("Kubernetes ä¸æä¾›ä½œä¸ºå†…ç½®æœåŠ¡çš„ä¸­é—´ä»¶ (ä¾‹å¦‚ æ¶ˆæ¯ä¸­é—´ä»¶)ã€æ•°æ®å¤„ç†æ¡†æ¶ (ä¾‹å¦‚ Spark)ã€æ•°æ®åº“ (ä¾‹å¦‚ mysql)æˆ–é›†ç¾¤å­˜å‚¨ç³»ç»Ÿ (ä¾‹å¦‚ Ceph)ã€‚è¿™äº›åº”ç”¨å¯ä»¥è¿è¡Œåœ¨ Kubernetes ä¸Šã€‚")]),e._v(" "),a("li",[e._v("Kubernetes æ²¡æœ‰æä¾›ç‚¹å‡»å³éƒ¨ç½²çš„æœåŠ¡å¸‚åœº")]),e._v(" "),a("li",[e._v("Kubernetes ä»æºä»£ç åˆ°é•œåƒéƒ½æ˜¯éå„æ–­çš„ã€‚ å®ƒä¸éƒ¨ç½²æºä»£ç ä¸”ä¸æ„å»ºæ‚¨çš„åº”ç”¨ç¨‹åºã€‚ æŒç»­é›†æˆ (CI) å·¥ä½œæµæ˜¯ä¸€ä¸ªä¸åŒç”¨æˆ·å’Œé¡¹ç›®éƒ½æœ‰è‡ªå·±éœ€æ±‚å’Œåå¥½çš„é¢†åŸŸã€‚ æ‰€ä»¥æˆ‘ä»¬æ”¯æŒåœ¨ Kubernetes åˆ†å±‚çš„ CI å·¥ä½œæµï¼Œä½†ä¸æŒ‡å®šå®ƒåº”è¯¥å¦‚ä½•å·¥ä½œã€‚")]),e._v(" "),a("li",[e._v("Kubernetes å…è®¸ç”¨æˆ·é€‰æ‹©å…¶ä»–çš„æ—¥å¿—è®°å½•ï¼Œç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿ (è™½ç„¶æˆ‘ä»¬æä¾›ä¸€äº›é›†æˆä½œä¸ºæ¦‚å¿µéªŒè¯)")]),e._v(" "),a("li",[e._v("Kubernetes ä¸æä¾›æˆ–æˆæƒä¸€ä¸ªå…¨é¢çš„åº”ç”¨ç¨‹åºé…ç½®è¯­è¨€/ç³»ç»Ÿ (ä¾‹å¦‚ "),a("a",{attrs:{href:"https://github.com/google/jsonnet",target:"_blank"}},[e._v("jsonnet")]),e._v(").")]),e._v(" "),a("li",[e._v("Kubernetes ä¸æä¾›ä¹Ÿä¸é‡‡ç”¨ä»»ä½•å…¨é¢æœºå™¨é…ç½®ã€ä¿å…»ã€ç®¡ç†æˆ–è‡ªæˆ‘ä¿®å¤ç³»ç»Ÿ")])]),e._v(" "),a("p",[e._v("å¦ä¸€æ–¹é¢ï¼Œè®¸å¤š PaaS ç³»ç»Ÿè¿è¡Œ åœ¨ Kubernetes ä¸Šé¢ï¼Œä¾‹å¦‚ "),a("a",{attrs:{href:"https://github.com/openshift/origin",target:"_blank"}},[e._v("Openshift")]),e._v(", "),a("a",{attrs:{href:"https://azure.microsoft.com/en-us/services/kubernetes-service/",target:"_blank"}},[e._v("Deis")]),e._v(", and "),a("a",{attrs:{href:"https://eldarion.com/",target:"_blank"}},[e._v("Eldarion")]),e._v("ã€‚ æ‚¨ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ‚¨è‡ªå·±çš„ PaaS, ä¸æ‚¨é€‰æ‹©çš„ CI ç³»ç»Ÿé›†æˆï¼Œæˆ–ä¸ Kubernetes ä¸€èµ·ä½¿ç”¨: å°†æ‚¨çš„å®¹å™¨é•œåƒéƒ¨ç½²åˆ° Kubernetesã€‚\n"),a("br"),e._v("\nç”±äº Kubernetes åœ¨åº”ç”¨çº§åˆ«è€Œä¸ä»…ä»…åœ¨ç¡¬ä»¶çº§åˆ«ä¸Šè¿è¡Œï¼Œå› æ­¤å®ƒæä¾› PaaS äº§å“é€šç”¨çš„ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚éƒ¨ç½²ã€æ‰©å±•ã€è´Ÿè½½å‡è¡¡ã€æ—¥å¿—è®°å½•ã€ç›‘æ§ç­‰ã€‚ä½†æ˜¯ï¼ŒKubernetes ä¸æ˜¯å•ä¸€çš„ï¼Œé»˜è®¤è§£å†³æ–¹æ¡ˆæ˜¯å¯é€‰å’Œå¯æ’æ‹”çš„ã€‚\n"),a("br"),e._v("\næ­¤å¤„ï¼ŒKubernetes ä¸ä»…ä»…æ˜¯ä¸€ä¸ª â€œç¼–æ’ç³»ç»Ÿâ€ï¼›å®ƒæ¶ˆé™¤äº†ç¼–æ’çš„éœ€è¦ã€‚ â€œç¼–æ’â€æŠ€æœ¯å®šä¹‰çš„æ˜¯å·¥ä½œæµçš„æ‰§è¡Œ: ä» A åˆ° Bï¼Œç„¶ååˆ° Cã€‚ç›¸åï¼ŒKubernetes æ˜¯åŒ…æ‹¬ä¸€å¥—ç‹¬ç«‹ã€å¯ç»„åˆçš„æ§åˆ¶è¿‡ç¨‹ï¼Œé€šè¿‡å£°æ˜å¼è¯­æ³•ä½¿å…¶è¿ç»­åœ°æœç€æœŸæœ›çŠ¶æ€é©±åŠ¨å½“å‰çŠ¶æ€ã€‚ ä¸éœ€è¦å‘Šè¯‰å®ƒå…·ä½“ä» A åˆ° C çš„è¿‡ç¨‹ï¼Œåªè¦å‘Šè¯‰åˆ° C çš„çŠ¶æ€å³å¯ã€‚ ä¹Ÿä¸éœ€è¦é›†ä¸­æ§åˆ¶ï¼›è¯¥æ–¹æ³•æ›´ç±»ä¼¼äºâ€ç¼–èˆâ€ã€‚è¿™ä½¿å¾—ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨å¹¶ä¸”æ›´å¼ºå¤§ã€æ›´å¯é ã€æ›´å…·å¼¹æ€§å’Œå¯æ‰©å±•æ€§\n"),a("br")]),e._v(" "),a("h3",{attrs:{id:"kubernetes-æ˜¯ä»€ä¹ˆæ„æ€-k8s"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-æ˜¯ä»€ä¹ˆæ„æ€-k8s","aria-hidden":"true"}},[e._v("#")]),e._v(" Kubernetes æ˜¯ä»€ä¹ˆæ„æ€? K8s?")]),e._v(" "),a("p",[e._v("åç§° Kubernetes æºäºå¸Œè…Šè¯­ï¼Œæ„ä¸º â€œèˆµæ‰‹â€ æˆ– â€œé£è¡Œå‘˜â€ï¼Œ ä¸”æ˜¯è‹±æ–‡ â€œgovernorâ€ å’Œ â€œcyberneticâ€çš„è¯æ ¹ã€‚ K8s æ˜¯é€šè¿‡å°† 8 ä¸ªå­—æ¯ â€œuberneteâ€ æ›¿æ¢ä¸º 8 è€Œå¯¼å‡ºçš„ç¼©å†™ã€‚å¦å¤–ï¼Œåœ¨ä¸­æ–‡é‡Œï¼Œk8s çš„å‘éŸ³ä¸ Kubernetes çš„å‘éŸ³æ¯”è¾ƒæ¥è¿‘ã€‚")]),e._v(" "),a("h2",{attrs:{id:"kubernetes-ç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ç»„ä»¶","aria-hidden":"true"}},[e._v("#")]),e._v(" Kubernetes ç»„ä»¶")]),e._v(" "),a("p",[e._v("æœ¬æ–‡æ¡£æ¦‚è¿°äº† Kubernetes æ‰€éœ€çš„å„ç§äºŒè¿›åˆ¶ç»„ä»¶, ç”¨äºæä¾›é½å…¨çš„åŠŸèƒ½ã€‚")]),e._v(" "),a("ul",[a("li",[e._v("Masterç»„ä»¶")]),e._v(" "),a("li",[e._v("Nodeç»„ä»¶")])]),e._v(" "),a("h3",{attrs:{id:"master-ç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#master-ç»„ä»¶","aria-hidden":"true"}},[e._v("#")]),e._v(" Master ç»„ä»¶")]),e._v(" "),a("p",[e._v("Master ç»„ä»¶æä¾›çš„é›†ç¾¤æ§åˆ¶ã€‚Master ç»„ä»¶å¯¹é›†ç¾¤åšå‡ºå…¨å±€æ€§å†³ç­–(ä¾‹å¦‚ï¼šè°ƒåº¦)ï¼Œä»¥åŠæ£€æµ‹å’Œå“åº”é›†ç¾¤äº‹ä»¶(å‰¯æœ¬æ§åˆ¶å™¨çš„replicaså­—æ®µä¸æ»¡è¶³æ—¶,å¯åŠ¨æ–°çš„å‰¯æœ¬)ã€‚\n"),a("br"),e._v("\nMaster ç»„ä»¶å¯ä»¥åœ¨é›†ç¾¤ä¸­çš„ä»»ä½•èŠ‚ç‚¹ä¸Šè¿è¡Œã€‚ç„¶è€Œï¼Œä¸ºäº†ç®€å•èµ·è§ï¼Œè®¾ç½®è„šæœ¬é€šå¸¸ä¼šå¯åŠ¨åŒä¸€ä¸ªè™šæ‹Ÿæœºä¸Šæ‰€æœ‰ Master ç»„ä»¶ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨æ­¤è™šæ‹Ÿæœºä¸Šè¿è¡Œç”¨æˆ·å®¹å™¨ã€‚è¯·å‚é˜…æ„å»º"),a("a",{attrs:{href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/high-availability/",target:"_blank"}},[e._v("é«˜å¯ç”¨æ€§ç¾¤é›†")]),e._v("ç¤ºä¾‹å¯¹äºå¤šä¸»æœº VM çš„è®¾ç½®ã€‚")]),e._v(" "),a("h4",{attrs:{id:"apiæœåŠ¡å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apiæœåŠ¡å™¨","aria-hidden":"true"}},[e._v("#")]),e._v(" APIæœåŠ¡å™¨")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/",target:"_blank"}},[e._v("kube-apiserver")]),e._v("å¯¹å¤–æš´éœ²äº†Kubernetes APIã€‚å®ƒæ˜¯çš„ Kubernetes å‰ç«¯æ§åˆ¶å±‚ã€‚å®ƒè¢«è®¾è®¡ä¸ºæ°´å¹³æ‰©å±•ï¼Œå³é€šè¿‡éƒ¨ç½²æ›´å¤šå®ä¾‹æ¥ç¼©æ”¾ã€‚è¯·å‚é˜…"),a("a",{attrs:{href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/high-availability/",target:"_blank"}},[e._v("æ„å»ºé«˜å¯ç”¨æ€§ç¾¤é›†")]),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"etcd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etcd","aria-hidden":"true"}},[e._v("#")]),e._v(" etcd")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/administer-cluster/configure-upgrade-etcd/",target:"_blank"}},[e._v("etcd")]),e._v(" ç”¨äº Kubernetes çš„åç«¯å­˜å‚¨ã€‚æ‰€æœ‰é›†ç¾¤æ•°æ®éƒ½å­˜å‚¨åœ¨æ­¤å¤„ï¼Œå§‹ç»ˆä¸ºæ‚¨çš„ Kubernetes é›†ç¾¤çš„ etcd æ•°æ®æä¾›å¤‡ä»½è®¡åˆ’ã€‚")]),e._v(" "),a("h4",{attrs:{id:"kube-controller-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kube-controller-manager","aria-hidden":"true"}},[e._v("#")]),e._v(" kube-controller-manager")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/",target:"_blank"}},[e._v("kube-controller-manager")]),e._v("è¿è¡Œæ§åˆ¶å™¨ï¼Œå®ƒä»¬æ˜¯å¤„ç†é›†ç¾¤ä¸­å¸¸è§„ä»»åŠ¡çš„åå°çº¿ç¨‹ã€‚é€»è¾‘ä¸Šï¼Œæ¯ä¸ªæ§åˆ¶å™¨æ˜¯ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ï¼Œä½†ä¸ºäº†é™ä½å¤æ‚æ€§ï¼Œå®ƒä»¬éƒ½è¢«ç¼–è¯‘æˆç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶åœ¨å•ä¸ªè¿›ç¨‹ä¸­è¿è¡Œã€‚\n"),a("br"),e._v("\nè¿™äº›æ§åˆ¶å™¨åŒ…æ‹¬:")]),e._v(" "),a("ul",[a("li",[e._v("èŠ‚ç‚¹æ§åˆ¶å™¨: å½“èŠ‚ç‚¹ç§»é™¤æ—¶ï¼Œè´Ÿè´£æ³¨æ„å’Œå“åº”ã€‚")]),e._v(" "),a("li",[e._v("å‰¯æœ¬æ§åˆ¶å™¨: è´Ÿè´£ç»´æŠ¤ç³»ç»Ÿä¸­æ¯ä¸ªå‰¯æœ¬æ§åˆ¶å™¨å¯¹è±¡æ­£ç¡®æ•°é‡çš„ Podã€‚")]),e._v(" "),a("li",[e._v("ç«¯ç‚¹æ§åˆ¶å™¨: å¡«å…… ç«¯ç‚¹(Endpoints) å¯¹è±¡(å³è¿æ¥ Services & Pods)ã€‚")]),e._v(" "),a("li",[e._v("æœåŠ¡å¸æˆ·å’Œä»¤ç‰Œæ§åˆ¶å™¨: ä¸ºæ–°çš„å‘½åç©ºé—´åˆ›å»ºé»˜è®¤å¸æˆ·å’Œ API è®¿é—®ä»¤ç‰Œ.")])]),e._v(" "),a("h4",{attrs:{id:"äº‘æ§åˆ¶å™¨ç®¡ç†å™¨-cloud-controller-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äº‘æ§åˆ¶å™¨ç®¡ç†å™¨-cloud-controller-manager","aria-hidden":"true"}},[e._v("#")]),e._v(" äº‘æ§åˆ¶å™¨ç®¡ç†å™¨-(cloud-controller-manager)")]),e._v(" "),a("p",[e._v("cloud-controller-manager æ˜¯ç”¨äºä¸åº•å±‚äº‘æä¾›å•†äº¤äº’çš„æ§åˆ¶å™¨ã€‚äº‘æ§åˆ¶å™¨ç®¡ç†å™¨å¯æ‰§è¡Œç»„ä»¶æ˜¯ Kubernetes v1.6 ç‰ˆæœ¬ä¸­å¼•å…¥çš„ Alpha åŠŸèƒ½ã€‚\n"),a("br"),e._v("\ncloud-controller-manager ä»…è¿è¡Œäº‘æä¾›å•†ç‰¹å®šçš„æ§åˆ¶å™¨å¾ªç¯ã€‚æ‚¨å¿…é¡»åœ¨ kube-controller-manager ä¸­ç¦ç”¨è¿™äº›æ§åˆ¶å™¨å¾ªç¯ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨å¯åŠ¨ kube-controller-manager æ—¶å°† --cloud-provider æ ‡å¿—è®¾ç½®ä¸ºexternalæ¥ç¦ç”¨æ§åˆ¶å™¨å¾ªç¯ã€‚\n"),a("br"),e._v("\ncloud-controller-manager å…è®¸äº‘ä¾›åº”å•†ä»£ç å’Œ Kubernetes æ ¸å¿ƒå½¼æ­¤ç‹¬ç«‹å‘å±•ï¼Œåœ¨ä»¥å‰çš„ç‰ˆæœ¬ä¸­ï¼ŒKubernetes æ ¸å¿ƒä»£ç ä¾èµ–äºäº‘æä¾›å•†ç‰¹å®šçš„åŠŸèƒ½ä»£ç ã€‚åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­ï¼Œäº‘ä¾›åº”å•†çš„ç‰¹å®šä»£ç åº”ç”±äº‘ä¾›åº”å•†è‡ªå·±ç»´æŠ¤ï¼Œå¹¶ä¸è¿è¡Œ Kubernetes çš„äº‘æ§åˆ¶å™¨ç®¡ç†å™¨ç›¸å…³è”ã€‚\n"),a("br"),e._v("\nä»¥ä¸‹æ§åˆ¶å™¨å…·æœ‰äº‘æä¾›å•†ä¾èµ–å…³ç³»:")]),e._v(" "),a("ul",[a("li",[e._v("èŠ‚ç‚¹æ§åˆ¶å™¨: ç”¨äºæ£€æŸ¥äº‘æä¾›å•†ä»¥ç¡®å®šèŠ‚ç‚¹æ˜¯å¦åœ¨äº‘ä¸­åœæ­¢å“åº”åè¢«åˆ é™¤")]),e._v(" "),a("li",[e._v("è·¯ç”±æ§åˆ¶å™¨: ç”¨äºåœ¨åº•å±‚äº‘åŸºç¡€æ¶æ„ä¸­è®¾ç½®è·¯ç”±")]),e._v(" "),a("li",[e._v("æœåŠ¡æ§åˆ¶å™¨: ç”¨äºåˆ›å»ºï¼Œæ›´æ–°å’Œåˆ é™¤äº‘æä¾›å•†è´Ÿè½½å¹³è¡¡å™¨")]),e._v(" "),a("li",[e._v("æ•°æ®å·æ§åˆ¶å™¨: ç”¨äºåˆ›å»ºï¼Œé™„åŠ å’Œè£…è½½å·ï¼Œå¹¶ä¸äº‘æä¾›å•†è¿›è¡Œäº¤äº’ä»¥åè°ƒå·")])]),e._v(" "),a("h4",{attrs:{id:"è°ƒåº¦å™¨-kube-scheduler"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è°ƒåº¦å™¨-kube-scheduler","aria-hidden":"true"}},[e._v("#")]),e._v(" è°ƒåº¦å™¨ - (kube-scheduler)")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://kubernetes.io/docs/reference/command-line-tools-reference/kube-scheduler/",target:"_blank"}},[e._v("kube-scheduler")]),e._v("ç›‘è§†æ²¡æœ‰åˆ†é…èŠ‚ç‚¹çš„æ–°åˆ›å»ºçš„ Podï¼Œé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä¾›ä»–ä»¬è¿è¡Œã€‚")]),e._v(" "),a("h4",{attrs:{id:"æ’ä»¶-addons"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ’ä»¶-addons","aria-hidden":"true"}},[e._v("#")]),e._v(" æ’ä»¶(addons)")]),e._v(" "),a("p",[e._v("æ’ä»¶æ˜¯å®ç°é›†ç¾¤åŠŸèƒ½çš„ Pod å’Œ Serviceã€‚ Pods å¯ä»¥é€šè¿‡ Deploymentsï¼ŒReplicationControllers ç®¡ç†ã€‚æ’ä»¶å¯¹è±¡æœ¬èº«æ˜¯å—å‘½åç©ºé—´é™åˆ¶çš„ï¼Œè¢«åˆ›å»ºäº kube-system å‘½åç©ºé—´ã€‚\n"),a("br"),e._v("\nAddon ç®¡ç†å™¨ç”¨äºåˆ›å»ºå’Œç»´æŠ¤é™„åŠ èµ„æº. æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…"),a("a",{attrs:{href:"http://releases.k8s.io/HEAD/cluster/addons"}},[e._v("here")]),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"dns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns","aria-hidden":"true"}},[e._v("#")]),e._v(" DNS")]),e._v(" "),a("p",[e._v("è™½ç„¶å…¶ä»–æ’ä»¶å¹¶ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†æ‰€æœ‰ Kubernetes é›†ç¾¤éƒ½åº”è¯¥å…·æœ‰Cluster DNSï¼Œè®¸å¤šç¤ºä¾‹ä¾èµ–äºå®ƒã€‚\n"),a("br"),e._v("\nCluster DNS æ˜¯ä¸€ä¸ª DNS æœåŠ¡å™¨ï¼Œå’Œæ‚¨éƒ¨ç½²ç¯å¢ƒä¸­çš„å…¶ä»– DNS æœåŠ¡å™¨ä¸€èµ·å·¥ä½œï¼Œä¸º Kubernetes æœåŠ¡æä¾›DNSè®°å½•ã€‚\n"),a("br"),e._v("\nKubernetes å¯åŠ¨çš„å®¹å™¨è‡ªåŠ¨å°† DNS æœåŠ¡å™¨åŒ…å«åœ¨ DNS æœç´¢ä¸­ã€‚\n"),a("br")]),e._v(" "),a("h4",{attrs:{id:"ç”¨æˆ·ç•Œé¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨æˆ·ç•Œé¢","aria-hidden":"true"}},[e._v("#")]),e._v(" ç”¨æˆ·ç•Œé¢")]),e._v(" "),a("p",[e._v("dashboard æä¾›äº†é›†ç¾¤çŠ¶æ€çš„åªè¯»æ¦‚è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…"),a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/access-kubernetes-api/http-proxy-access-api/",target:"_blank"}},[e._v("ä½¿ç”¨HTTPä»£ç†è®¿é—® Kubernetes API")])]),e._v(" "),a("h4",{attrs:{id:"å®¹å™¨èµ„æºç›‘æ§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¹å™¨èµ„æºç›‘æ§","aria-hidden":"true"}},[e._v("#")]),e._v(" å®¹å™¨èµ„æºç›‘æ§")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/debug-application-cluster/resource-usage-monitoring/",target:"_blank"}},[e._v("å®¹å™¨èµ„æºç›‘æ§")]),e._v("å°†å…³äºå®¹å™¨çš„ä¸€äº›å¸¸è§çš„æ—¶é—´åºåˆ—åº¦é‡å€¼ä¿å­˜åˆ°ä¸€ä¸ªé›†ä¸­çš„æ•°æ®åº“ä¸­ï¼Œå¹¶æä¾›ç”¨äºæµè§ˆè¿™äº›æ•°æ®çš„ç•Œé¢ã€‚")]),e._v(" "),a("h4",{attrs:{id:"é›†ç¾¤å±‚é¢æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é›†ç¾¤å±‚é¢æ—¥å¿—","aria-hidden":"true"}},[e._v("#")]),e._v(" é›†ç¾¤å±‚é¢æ—¥å¿—")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/cluster-administration/logging/",target:"_blank"}},[e._v("é›†ç¾¤å±‚é¢æ—¥å¿—")]),e._v(" æœºåˆ¶è´Ÿè´£å°†å®¹å™¨çš„æ—¥å¿—æ•°æ®ä¿å­˜åˆ°ä¸€ä¸ªé›†ä¸­çš„æ—¥å¿—å­˜å‚¨ä¸­ï¼Œè¯¥å­˜å‚¨èƒ½å¤Ÿæä¾›æœç´¢å’Œæµè§ˆæ¥å£.")]),e._v(" "),a("h3",{attrs:{id:"èŠ‚ç‚¹ç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èŠ‚ç‚¹ç»„ä»¶","aria-hidden":"true"}},[e._v("#")]),e._v(" èŠ‚ç‚¹ç»„ä»¶")]),e._v(" "),a("p",[e._v("èŠ‚ç‚¹ç»„ä»¶åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œç»´æŠ¤è¿è¡Œçš„ Pod å¹¶æä¾› Kubernetes è¿è¡Œæ—¶ç¯å¢ƒã€‚")]),e._v(" "),a("h4",{attrs:{id:"kubelet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubelet","aria-hidden":"true"}},[e._v("#")]),e._v(" kubelet")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/",target:"_blank"}},[e._v("kubelet")]),e._v("æ˜¯ä¸»è¦çš„èŠ‚ç‚¹ä»£ç†,å®ƒç›‘æµ‹å·²åˆ†é…ç»™å…¶èŠ‚ç‚¹çš„ Pod(é€šè¿‡ apiserver æˆ–é€šè¿‡æœ¬åœ°é…ç½®æ–‡ä»¶)ï¼Œæä¾›å¦‚ä¸‹åŠŸèƒ½:")]),e._v(" "),a("ul",[a("li",[e._v("æŒ‚è½½ Pod æ‰€éœ€è¦çš„æ•°æ®å·(Volume)ã€‚")]),e._v(" "),a("li",[e._v("ä¸‹è½½ Pod çš„ secretsã€‚")]),e._v(" "),a("li",[e._v("é€šè¿‡ Docker è¿è¡Œ(æˆ–é€šè¿‡ rkt)è¿è¡Œ Pod çš„å®¹å™¨ã€‚")]),e._v(" "),a("li",[e._v("å‘¨æœŸæ€§çš„å¯¹å®¹å™¨ç”Ÿå‘½å‘¨æœŸè¿›è¡Œæ¢æµ‹ã€‚")]),e._v(" "),a("li",[e._v("å¦‚æœéœ€è¦ï¼Œé€šè¿‡åˆ›å»º é•œåƒ Podï¼ˆMirror Podï¼‰ å°† Pod çš„çŠ¶æ€æŠ¥å‘Šå›ç³»ç»Ÿçš„å…¶ä½™éƒ¨åˆ†ã€‚")]),e._v(" "),a("li",[e._v("å°†èŠ‚ç‚¹çš„çŠ¶æ€æŠ¥å‘Šå›ç³»ç»Ÿçš„å…¶ä½™éƒ¨åˆ†ã€‚")])]),e._v(" "),a("h4",{attrs:{id:"kube-proxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kube-proxy","aria-hidden":"true"}},[e._v("#")]),e._v(" kube-proxy")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/",target:"_blank"}},[e._v("kube-proxy")]),e._v("é€šè¿‡ç»´æŠ¤ä¸»æœºä¸Šçš„ç½‘ç»œè§„åˆ™å¹¶æ‰§è¡Œè¿æ¥è½¬å‘ï¼Œå®ç°äº†KubernetesæœåŠ¡æŠ½è±¡ã€‚")]),e._v(" "),a("h4",{attrs:{id:"docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker","aria-hidden":"true"}},[e._v("#")]),e._v(" docker")]),e._v(" "),a("p",[e._v("Docker ç”¨äºè¿è¡Œå®¹å™¨ã€‚")]),e._v(" "),a("h4",{attrs:{id:"rkt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rkt","aria-hidden":"true"}},[e._v("#")]),e._v(" rkt")]),e._v(" "),a("p",[e._v("æ”¯æŒ rkt è¿è¡Œå®¹å™¨ä½œä¸º Docker çš„è¯•éªŒæ€§æ›¿ä»£æ–¹æ¡ˆã€‚")]),e._v(" "),a("h4",{attrs:{id:"supervisord"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#supervisord","aria-hidden":"true"}},[e._v("#")]),e._v(" supervisord")]),e._v(" "),a("p",[e._v("supervisord æ˜¯ä¸€ä¸ªè½»é‡çº§çš„è¿›ç¨‹ç›‘æ§ç³»ç»Ÿï¼Œå¯ä»¥ç”¨æ¥ä¿è¯ kubelet å’Œ docker è¿è¡Œã€‚")]),e._v(" "),a("h4",{attrs:{id:"fluentd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fluentd","aria-hidden":"true"}},[e._v("#")]),e._v(" fluentd")]),e._v(" "),a("p",[e._v("fluentd æ˜¯ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œå®ƒæœ‰åŠ©äºæä¾›é›†ç¾¤å±‚é¢æ—¥å¿— é›†ç¾¤å±‚é¢çš„æ—¥å¿—ã€‚")]),e._v(" "),a("h2",{attrs:{id:"kubernetes-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-api","aria-hidden":"true"}},[e._v("#")]),e._v(" Kubernetes API")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md",target:"_blank"}},[e._v("APIåè®®æ–‡æ¡£")]),e._v("æè¿°äº†ä¸»ç³»ç»Ÿå’ŒAPIæ¦‚å¿µã€‚\n"),a("br"),e._v(" "),a("a",{attrs:{href:"https://kubernetes.io/docs/reference/",target:"_blank"}},[e._v("APIå‚è€ƒæ–‡æ¡£")]),e._v("æè¿°äº†APIæ•´ä½“è§„èŒƒã€‚\n"),a("br"),e._v(" "),a("a",{attrs:{href:"https://kubernetes.io/docs/reference/access-authn-authz/controlling-access/",target:"_blank"}},[e._v("è®¿é—®æ–‡æ¡£")]),e._v("è®¨è®ºäº†é€šè¿‡è¿œç¨‹è®¿é—®APIçš„ç›¸å…³é—®é¢˜ã€‚\n"),a("br"),e._v("\nKubernetes APIæ˜¯ç³»ç»Ÿæè¿°æ€§é…ç½®çš„åŸºç¡€ã€‚ "),a("a",{attrs:{href:"https://kubernetes.io/docs/reference/kubectl/kubectl/",target:"_blank"}},[e._v("Kubectl")]),e._v(" å‘½ä»¤è¡Œå·¥å…·è¢«ç”¨äºåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ã€è·å–APIå¯¹è±¡ã€‚\n"),a("br"),e._v("\nKubernetes é€šè¿‡APIèµ„æºå­˜å‚¨è‡ªå·±åºåˆ—åŒ–çŠ¶æ€(ç°åœ¨å­˜å‚¨åœ¨"),a("a",{attrs:{href:"https://etcd.io/",target:"_blank"}},[e._v("etcd")]),e._v(")ã€‚\n"),a("br"),e._v("\nKubernetes è¢«åˆ†æˆå¤šä¸ªç»„ä»¶ï¼Œå„éƒ¨åˆ†é€šè¿‡APIç›¸äº’äº¤äº’ã€‚")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/overview/kubernetes-api/#api-%E5%8F%98%E6%9B%B4",target:"_blank"}},[e._v("API å˜æ›´")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/overview/kubernetes-api/#openapi-%E5%92%8C-api-swagger-%E5%AE%9A%E4%B9%89",target:"_blank"}},[e._v("OpenAPI å’Œ API Swagger å®šä¹‰")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/overview/kubernetes-api/#api-%E7%89%88%E6%9C%AC",target:"_blank"}},[e._v("API ç‰ˆæœ¬")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/overview/kubernetes-api/#api-%E7%BB%84",target:"_blank"}},[e._v("API ç»„")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/overview/kubernetes-api/#%E5%90%AF%E7%94%A8-api-%E7%BB%84",target:"_blank"}},[e._v("å¯ç”¨ API ç»„")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/overview/kubernetes-api/#%E5%90%AF%E7%94%A8%E7%BB%84%E4%B8%AD%E8%B5%84%E6%BA%90",target:"_blank"}},[e._v("å¯ç”¨ç»„ä¸­èµ„æº")])])]),e._v(" "),a("h3",{attrs:{id:"api-å˜æ›´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-å˜æ›´","aria-hidden":"true"}},[e._v("#")]),e._v(" API å˜æ›´")]),e._v(" "),a("p",[e._v("æ ¹æ®ç»éªŒï¼Œä»»ä½•æˆåŠŸçš„ç³»ç»Ÿéƒ½éœ€è¦éšç€æ–°çš„ç”¨ä¾‹å‡ºç°æˆ–ç°æœ‰ç”¨ä¾‹å‘ç”Ÿå˜åŒ–çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œç›¸åº”çš„è¿›åŒ–ä¸è°ƒæ•´ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›Kubernetes APIä¹Ÿå¯ä»¥ä¿æŒæŒç»­çš„è¿›åŒ–å’Œè°ƒæ•´ã€‚åŒæ—¶ï¼Œåœ¨è¾ƒé•¿ä¸€æ®µæ—¶é—´å†…ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›ä¸ç°æœ‰å®¢æˆ·ç«¯ç‰ˆæœ¬ä¿æŒè‰¯å¥½çš„å‘ä¸‹å…¼å®¹æ€§ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¢åŠ æ–°çš„APIèµ„æºå’Œèµ„æºå­—æ®µä¸ä¼šå¯¼è‡´å‘ä¸‹å…¼å®¹æ€§é—®é¢˜å‘ç”Ÿï¼›ä½†å¦‚æœæ˜¯éœ€è¦åˆ é™¤ä¸€ä¸ªå·²æœ‰çš„èµ„æºæˆ–è€…å­—æ®µï¼Œé‚£ä¹ˆå¿…é¡»é€šè¿‡"),a("a",{attrs:{href:"https://kubernetes.io/docs/reference/using-api/deprecation-policy/",target:"_blank"}},[e._v("APIåºŸå¼ƒæµç¨‹")]),e._v("æ¥è¿›è¡Œã€‚\n"),a("br"),e._v("\nå‚è€ƒ"),a("a",{attrs:{href:"https://git.k8s.io/community/contributors/devel/sig-architecture/api_changes.md",target:"_blank"}},[e._v("APIå˜æ›´æ–‡æ¡£")]),e._v("ï¼Œäº†è§£å…¼å®¹æ€§å˜æ›´çš„è¦ç´ ä»¥åŠå¦‚ä½•å˜æ›´APIçš„æµç¨‹ã€‚")]),e._v(" "),a("h3",{attrs:{id:"openapi-å’Œ-api-swagger-å®šä¹‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openapi-å’Œ-api-swagger-å®šä¹‰","aria-hidden":"true"}},[e._v("#")]),e._v(" OpenAPI å’Œ API Swagger å®šä¹‰")]),e._v(" "),a("p",[e._v("å®Œæ•´çš„ API ç»†èŠ‚è¢«è®°å½•åœ¨ "),a("a",{attrs:{href:"https://www.openapis.org/",target:"_blank"}},[e._v("OpenAPI")]),e._v(".")]),e._v(" "),a("p",[e._v("éšç€ Kubernetes 1.10 ç‰ˆæœ¬çš„æ­£å¼å¯ç”¨ï¼ŒKubernetes API æœåŠ¡é€šè¿‡ /openapi/v2 æ¥å£æä¾› OpenAPI è§„èŒƒã€‚ é€šè¿‡è®¾ç½® HTTP æ ‡å¤´çš„è§„å®šäº†è¯·æ±‚çš„ç»“æ„ã€‚\n"),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",{staticStyle:{background:"#555"},attrs:{width:"30%"}},[e._v("Header")]),e._v(" "),a("th",{staticStyle:{background:"#555"},attrs:{width:"70%"}},[e._v("Possible Values")])]),e._v(" "),a("tr",[a("td",[e._v("Accept")]),e._v(" "),a("td",[e._v("application/json, application/com.github.proto-openapi.spec.v2@v1.0+protobuf (the default content-type is application/json for "),a("em",[e._v("/")]),e._v(" or not passing this header)")])]),e._v(" "),a("tr",[a("td",[e._v("Accept-Encoding")]),e._v(" "),a("td",[e._v("gzip (not passing this header is acceptable)")])])]),e._v("\nåœ¨1.14ç‰ˆæœ¬ä¹‹å‰ï¼ŒåŒºåˆ†ç»“æ„çš„æ¥å£é€šè¿‡(/swagger.json, /swagger-2.0.0.json, /swagger-2.0.0.pb-v1, /swagger-2.0.0.pb-v1.gz) æä¾›ä¸åŒæ ¼å¼çš„ OpenAPI è§„èŒƒã€‚ä½†æ˜¯è¿™äº›æ¥å£å·²ç»è¢«åºŸå¼ƒï¼Œå¹¶ä¸”å·²ç»åœ¨ Kubernetes 1.14 ä¸­è¢«åˆ é™¤ã€‚")]),e._v(" "),a("h4",{attrs:{id:"è·å–-openapi-è§„èŒƒçš„ä¾‹å­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–-openapi-è§„èŒƒçš„ä¾‹å­","aria-hidden":"true"}},[e._v("#")]),e._v(" è·å– OpenAPI è§„èŒƒçš„ä¾‹å­:")]),e._v(" "),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",{staticStyle:{background:"#555"},attrs:{width:"30%"}},[e._v("1.10ä¹‹å‰")]),e._v(" "),a("th",{staticStyle:{background:"#555"},attrs:{width:"70%"}},[e._v("1.10å¼€å§‹")])]),e._v(" "),a("tr",[a("td",[e._v("GET /swagger.json")]),e._v(" "),a("td",[e._v("GET /openapi/v2 Accept: application/json")])]),e._v(" "),a("tr",[a("td",[e._v("GET /swagger-2.0.0.pb-v1")]),e._v(" "),a("td",[e._v("GET /openapi/v2 Accept: application/com.github.proto-openapi.spec.v2@v1.0+protobuf")])]),e._v(" "),a("tr",[a("td",[e._v("GET /swagger-2.0.0.pb-v1.gz")]),e._v(" "),a("td",[e._v("GET /openapi/v2 Accept: application/com.github.proto-openapi.spec.v2@v1.0+protobuf Accept-Encoding: gzip")])])]),e._v("\nKuberneteså®ç°äº†å¦ä¸€ç§åŸºäºProtobufçš„åºåˆ—åŒ–æ ¼å¼ï¼Œè¯¥æ ¼å¼ä¸»è¦ç”¨äºé›†ç¾¤å†…é€šä¿¡ï¼Œå¹¶åœ¨è®¾è®¡æ–¹æ¡ˆä¸­è¿›è¡Œäº†è¯´æ˜ï¼Œæ¯ä¸ªæ¨¡å¼çš„IDLæ–‡ä»¶ä½äºå®šä¹‰APIå¯¹è±¡çš„Goè½¯ä»¶åŒ…ä¸­ã€‚ åœ¨ 1.14 ç‰ˆæœ¬ä¹‹å‰ï¼Œ Kubernetes apiserver ä¹Ÿæä¾› API æœåŠ¡ç”¨äºè¿”å› Swagger v1.2 Kubernetes API è§„èŒƒé€šè¿‡ /swaggerapi æ¥å£. ä½†æ˜¯è¿™ä¸ªæ¥å£å·²ç»è¢«åºŸå¼ƒï¼Œå¹¶ä¸”åœ¨ Kubernetes 1.14 ä¸­å·²ç»è¢«ç§»é™¤ã€‚\n"),a("h3",{attrs:{id:"api-ç‰ˆæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-ç‰ˆæœ¬","aria-hidden":"true"}},[e._v("#")]),e._v(" API ç‰ˆæœ¬")]),e._v(" "),a("p",[e._v("ä¸ºäº†ä½¿åˆ é™¤å­—æ®µæˆ–è€…é‡æ„èµ„æºè¡¨ç¤ºæ›´åŠ å®¹æ˜“ï¼ŒKubernetes æ”¯æŒ å¤šä¸ªAPIç‰ˆæœ¬ã€‚æ¯ä¸€ä¸ªç‰ˆæœ¬éƒ½åœ¨ä¸åŒAPIè·¯å¾„ä¸‹ï¼Œä¾‹å¦‚ /api/v1 æˆ–è€… /apis/extensions/v1beta1ã€‚")]),e._v(" "),a("p",[e._v("æˆ‘ä»¬é€‰æ‹©åœ¨APIçº§åˆ«è¿›è¡Œç‰ˆæœ¬åŒ–ï¼Œè€Œä¸æ˜¯åœ¨èµ„æºæˆ–å­—æ®µçº§åˆ«è¿›è¡Œç‰ˆæœ¬åŒ–ï¼Œä»¥ç¡®ä¿APIæä¾›æ¸…æ™°ï¼Œä¸€è‡´çš„ç³»ç»Ÿèµ„æºå’Œè¡Œä¸ºè§†å›¾ï¼Œå¹¶æ§åˆ¶å¯¹å·²åºŸæ­¢çš„APIå’Œ/æˆ–å®éªŒæ€§APIçš„è®¿é—®ã€‚ JSONå’ŒProtobufåºåˆ—åŒ–æ¨¡å¼éµå¾ªæ¶æ„æ›´æ”¹çš„ç›¸åŒå‡†åˆ™ - ä¸‹é¢çš„æ‰€æœ‰æè¿°éƒ½åŒæ—¶é€‚ç”¨äºè¿™ä¸¤ç§æ ¼å¼ã€‚")]),e._v(" "),a("p",[e._v("è¯·æ³¨æ„ï¼ŒAPIç‰ˆæœ¬æ§åˆ¶å’Œè½¯ä»¶ç‰ˆæœ¬æ§åˆ¶åªæœ‰é—´æ¥ç›¸å…³æ€§ã€‚ "),a("a",{attrs:{href:"https://git.k8s.io/community/contributors/design-proposals/release/versioning.md",target:"_blank"}},[e._v("APIå’Œå‘è¡Œç‰ˆæœ¬å»ºè®®")]),e._v(" æè¿°äº†APIç‰ˆæœ¬ä¸è½¯ä»¶ç‰ˆæœ¬ä¹‹é—´çš„å…³ç³»ã€‚")]),e._v(" "),a("p",[e._v("ä¸åŒçš„APIç‰ˆæœ¬åç§°æ„å‘³ç€ä¸åŒçº§åˆ«çš„è½¯ä»¶ç¨³å®šæ€§å’Œæ”¯æŒç¨‹åº¦ã€‚ æ¯ä¸ªçº§åˆ«çš„æ ‡å‡†åœ¨"),a("a",{attrs:{href:"https://git.k8s.io/community/contributors/devel/api_changes.md#alpha-beta-and-stable-versions",target:"_blank"}},[e._v("APIå˜æ›´æ–‡æ¡£")]),e._v("ä¸­æœ‰æ›´è¯¦ç»†çš„æè¿°ã€‚ å†…å®¹ä¸»è¦æ¦‚æ‹¬å¦‚ä¸‹ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("Alpha æµ‹è¯•ç‰ˆæœ¬ï¼š\n"),a("ul",[a("li",[e._v("ç‰ˆæœ¬åç§°åŒ…å«äº† alpha (ä¾‹å¦‚ï¼šv1alpha1)")]),e._v(" "),a("li",[e._v("å¯èƒ½æ˜¯æœ‰ç¼ºé™·çš„ã€‚å¯ç”¨è¯¥åŠŸèƒ½å¯èƒ½ä¼šå¸¦æ¥éšå«çš„é—®é¢˜ï¼Œé»˜è®¤æƒ…å†µæ˜¯å…³é—­çš„ã€‚")]),e._v(" "),a("li",[e._v("æ”¯æŒçš„åŠŸèƒ½å¯èƒ½åœ¨æ²¡æœ‰é€šçŸ¥çš„æƒ…å†µä¸‹éšæ—¶åˆ é™¤ã€‚")]),e._v(" "),a("li",[e._v("APIçš„æ›´æ”¹å¯èƒ½ä¼šå¸¦æ¥å…¼å®¹æ€§é—®é¢˜ï¼Œä½†æ˜¯åœ¨åç»­çš„è½¯ä»¶å‘å¸ƒä¸­ä¸ä¼šæœ‰ä»»ä½•é€šçŸ¥ã€‚")]),e._v(" "),a("li",[e._v("ç”±äºbugsé£é™©çš„å¢åŠ å’Œç¼ºä¹é•¿æœŸçš„æ”¯æŒï¼Œæ¨èåœ¨çŸ­æš‚çš„é›†ç¾¤æµ‹è¯•ä¸­ä½¿ç”¨ã€‚")])])]),e._v(" "),a("li",[e._v("Beta æµ‹è¯•ç‰ˆæœ¬ï¼š\n"),a("ul",[a("li",[e._v("ç‰ˆæœ¬åç§°åŒ…å«äº† beta (ä¾‹å¦‚: v2beta3)ã€‚")]),e._v(" "),a("li",[e._v("ä»£ç å·²ç»æµ‹è¯•è¿‡ã€‚å¯ç”¨è¯¥åŠŸèƒ½è¢«è®¤ä¸ºæ˜¯å®‰å…¨çš„ï¼ŒåŠŸèƒ½é»˜è®¤å·²å¯ç”¨ã€‚")]),e._v(" "),a("li",[e._v("æ‰€æœ‰å·²æ”¯æŒçš„åŠŸèƒ½ä¸ä¼šè¢«åˆ é™¤ï¼Œç»†èŠ‚å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚")]),e._v(" "),a("li",[e._v("å¯¹è±¡çš„æ¨¡å¼å’Œ/æˆ–è¯­ä¹‰å¯èƒ½ä¼šåœ¨åç»­çš„betaæµ‹è¯•ç‰ˆæˆ–ç¨³å®šç‰ˆä¸­ä»¥ä¸å…¼å®¹çš„æ–¹å¼è¿›è¡Œæ›´æ”¹ã€‚ å‘ç”Ÿè¿™ç§æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬å°†æä¾›è¿ç§»åˆ°ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„è¯´æ˜ã€‚ è¿™å¯èƒ½éœ€è¦åˆ é™¤ã€ç¼–è¾‘å’Œé‡æ–°åˆ›å»ºAPIå¯¹è±¡ã€‚æ‰§è¡Œç¼–è¾‘æ“ä½œæ—¶éœ€è¦è°¨æ…è¡Œäº‹ï¼Œè¿™å¯èƒ½éœ€è¦åœç”¨ä¾èµ–è¯¥åŠŸèƒ½çš„åº”ç”¨ç¨‹åºã€‚")]),e._v(" "),a("li",[e._v("å»ºè®®ä»…ç”¨äºéä¸šåŠ¡å…³é”®å‹ç”¨é€”ï¼Œå› ä¸ºåç»­ç‰ˆæœ¬ä¸­å¯èƒ½å­˜åœ¨ä¸å…¼å®¹çš„æ›´æ”¹ã€‚ å¦‚æœæ‚¨æœ‰å¤šä¸ªå¯ä»¥ç‹¬ç«‹å‡çº§çš„é›†ç¾¤ï¼Œåˆ™å¯ä»¥æ”¾å®½æ­¤é™åˆ¶ã€‚")]),e._v(" "),a("li",[e._v("è¯·å°è¯•æˆ‘ä»¬çš„ beta ç‰ˆæœ¬åŠŸèƒ½å¹¶ä¸”ç»™å‡ºåé¦ˆï¼ä¸€æ—¦ä»–ä»¬é€€å‡º beta æµ‹è¯•ç‰ˆï¼Œæˆ‘ä»¬å¯èƒ½ä¸ä¼šåšå‡ºæ›´å¤šçš„æ”¹å˜ã€‚")])])]),e._v(" "),a("li",[e._v("ç¨³å®šç‰ˆæœ¬ï¼š\n"),a("ul",[a("li",[e._v("ç‰ˆæœ¬åç§°æ˜¯ vXï¼Œå…¶ä¸­ X æ˜¯æ•´æ•°ã€‚")]),e._v(" "),a("li",[e._v("åŠŸèƒ½çš„ç¨³å®šç‰ˆæœ¬å°†å‡ºç°åœ¨è®¸å¤šåç»­ç‰ˆæœ¬çš„å‘è¡Œè½¯ä»¶ä¸­ã€‚")])])])]),e._v(" "),a("h3",{attrs:{id:"api-ç»„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-ç»„","aria-hidden":"true"}},[e._v("#")]),e._v(" API ç»„")]),e._v(" "),a("p",[e._v("ä¸ºäº†æ›´å®¹æ˜“åœ°æ‰©å±•Kubernetes APIï¼Œæˆ‘ä»¬å®ç°äº†"),a("a",{attrs:{href:"https://git.k8s.io/community/contributors/design-proposals/api-machinery/api-group.md",target:"_blank"}},[e._v("APIç»„")]),e._v("ã€‚ APIç»„åœ¨RESTè·¯å¾„å’Œåºåˆ—åŒ–å¯¹è±¡çš„ "),a("b",[e._v("apiVersion")]),e._v(" å­—æ®µä¸­æŒ‡å®šã€‚\n"),a("br"),e._v("\nç›®å‰æœ‰å‡ ä¸ªAPIç»„æ­£åœ¨ä½¿ç”¨ä¸­ï¼š\n"),a("br"),e._v("\n1.æ ¸å¿ƒç»„ï¼ˆé€šå¸¸è¢«ç§°ä¸ºé—ç•™ç»„ï¼‰ä½äºRESTè·¯å¾„ /api/v1 å¹¶ä½¿ç”¨ apiVersionï¼šv1ã€‚\n"),a("br"),e._v("\n2.æŒ‡å®šçš„ç»„ä½äºRESTè·¯å¾„ /apis/$GROUP_NAME/$VERSIONï¼Œå¹¶ä½¿ç”¨ apiVersionï¼š$GROUP_NAME/$VERSION ï¼ˆä¾‹å¦‚ apiVersionï¼šbatch/v1ï¼‰ã€‚ åœ¨Kubernetes APIå‚è€ƒä¸­å¯ä»¥çœ‹åˆ°æ”¯æŒçš„APIç»„çš„å®Œæ•´åˆ—è¡¨ã€‚\n"),a("br"),e._v("\nç¤¾åŒºæ”¯æŒä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ¥æä¾›è‡ªå®šä¹‰èµ„æºå¯¹APIè¿›è¡Œæ‰©å±•"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/",target:"_blank"}},[e._v("è‡ªå®šä¹‰èµ„æº")]),e._v("ï¼š\n"),a("br"),e._v("\n1."),a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions/",target:"_blank"}},[e._v("CustomResourceDefinition")]),e._v(" é€‚ç”¨äºå…·æœ‰éå¸¸åŸºæœ¬çš„CRUDéœ€æ±‚çš„ç”¨æˆ·ã€‚\n"),a("br"),e._v("\n2.éœ€è¦å…¨å¥—Kubernetes APIè¯­ä¹‰çš„ç”¨æˆ·å¯ä»¥å®ç°è‡ªå·±çš„apiserverï¼Œ å¹¶ä½¿ç”¨"),a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/access-kubernetes-api/configure-aggregation-layer/",target:"_blank"}},[e._v("èšåˆå™¨")]),e._v(" ä¸ºå®¢æˆ·æä¾›æ— ç¼çš„æœåŠ¡ã€‚")]),e._v(" "),a("h3",{attrs:{id:"å¯ç”¨-api-ç»„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯ç”¨-api-ç»„","aria-hidden":"true"}},[e._v("#")]),e._v(" å¯ç”¨ API ç»„")]),e._v(" "),a("p",[e._v("æŸäº›èµ„æºå’ŒAPIç»„é»˜è®¤æƒ…å†µä¸‹å¤„äºå¯ç”¨çŠ¶æ€ã€‚ å¯ä»¥é€šè¿‡åœ¨apiserverä¸Šè®¾ç½® --runtime-config æ¥å¯ç”¨æˆ–ç¦ç”¨å®ƒä»¬ã€‚ --runtime-config æ¥å—é€—å·åˆ†éš”çš„å€¼ã€‚ ä¾‹å¦‚ï¼šè¦ç¦ç”¨batch/v1ï¼Œè¯·è®¾ç½® --runtime-config=batch/v1=falseï¼Œä»¥å¯ç”¨batch/v2alpha1ï¼Œè¯·è®¾ç½®--runtime-config=batch/v2alpha1ã€‚ è¯¥æ ‡å¿—æ¥å—æè¿°apiserverçš„è¿è¡Œæ—¶é…ç½®çš„é€—å·åˆ†éš”çš„ä¸€ç»„é”®å€¼å¯¹ã€‚\n"),a("br"),e._v(" "),a("b",{staticStyle:{"font-size":"20px"}},[e._v("é‡è¦ğŸ“¢")])]),e._v(" "),a("div",{staticClass:"danger custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("é‡è¦ :")]),e._v(" "),a("p",[e._v("å¯ç”¨æˆ–ç¦ç”¨ç»„æˆ–èµ„æºéœ€è¦é‡æ–°å¯åŠ¨apiserverå’Œæ§åˆ¶å™¨ç®¡ç†å™¨æ¥ä½¿å¾— --runtime-config æ›´æ”¹ç”Ÿæ•ˆã€‚")])]),e._v(" "),a("h3",{attrs:{id:"å¯ç”¨ç»„ä¸­èµ„æº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯ç”¨ç»„ä¸­èµ„æº","aria-hidden":"true"}},[e._v("#")]),e._v(" å¯ç”¨ç»„ä¸­èµ„æº")]),e._v(" "),a("p",[e._v("DaemonSetsï¼ŒDeploymentsï¼ŒHorizontalPodAutoscalersï¼ŒIngressï¼ŒJobs å’Œ ReplicaSetsæ˜¯é»˜è®¤å¯ç”¨çš„ã€‚ å…¶ä»–æ‰©å±•èµ„æºå¯ä»¥é€šè¿‡åœ¨apiserverä¸Šè®¾ç½® --runtime-config æ¥å¯ç”¨ã€‚\n"),a("br"),e._v("\n--runtime-config æ¥å—é€—å·åˆ†éš”çš„å€¼ã€‚ ä¾‹å¦‚ï¼šè¦ç¦ç”¨ Deployment å’Œ Ingressï¼Œ è¯·è®¾ç½®\n"),a("br"),e._v("\n--runtime-config=extensions/v1beta1/deployments=false,extensions/v1beta1/ingress=false")]),e._v(" "),a("h2",{attrs:{id:"kubernetes-å¯¹è±¡ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-å¯¹è±¡ç®¡ç†","aria-hidden":"true"}},[e._v("#")]),e._v(" Kubernetes å¯¹è±¡ç®¡ç†")]),e._v(" "),a("p",[e._v("kubectl å‘½ä»¤è¡Œå·¥å…·æ”¯æŒå¤šç§ä¸åŒçš„æ–¹å¼æ¥åˆ›å»ºå’Œç®¡ç† Kubernetes å¯¹è±¡ã€‚æœ¬æ–‡æ¡£æ¦‚è¿°äº†ä¸åŒçš„æ–¹æ³•ã€‚é˜…è¯» Kubectl book æ¥äº†è§£ kubectl ç®¡ç†å¯¹è±¡çš„è¯¦ç»†ä¿¡æ¯ã€‚")]),e._v(" "),a("h3",{attrs:{id:"ç®¡ç†æŠ€å·§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®¡ç†æŠ€å·§","aria-hidden":"true"}},[e._v("#")]),e._v(" ç®¡ç†æŠ€å·§")]),e._v(" "),a("div",{staticClass:"danger custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("è­¦å‘Š")]),e._v(" "),a("p",[e._v("è­¦å‘Šï¼š\nåº”è¯¥åªä½¿ç”¨ä¸€ç§æŠ€æœ¯æ¥ç®¡ç† Kubernetes å¯¹è±¡ã€‚æ··åˆå’ŒåŒ¹é…æŠ€æœ¯ä½œç”¨åœ¨åŒä¸€å¯¹è±¡ä¸Šå°†å¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚")])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Management technique")]),e._v(" "),a("th",{staticStyle:{"text-align":"center"}},[e._v("Operates on")]),e._v(" "),a("th",{staticStyle:{"text-align":"right"}},[e._v("Recommended environment")]),e._v(" "),a("th",{staticStyle:{"text-align":"right"}},[e._v("Supported writers")]),e._v(" "),a("th",{staticStyle:{"text-align":"right"}},[e._v("Learning curve")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("Imperative commands")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("Live objects")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[e._v("Development projects")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[e._v("1+")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[e._v("Lowest")])]),e._v(" "),a("tr",[a("td",[e._v("Imperative object configuration")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("Individual files")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[e._v("Production projects")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[e._v("1")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[e._v("Moderate")])]),e._v(" "),a("tr",[a("td",[e._v("Declarative object configuration")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("Directories of files")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[e._v("Production projects")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[e._v("1+")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[e._v("Highes")])])])]),e._v(" "),a("h3",{attrs:{id:"å‘½ä»¤å¼å‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘½ä»¤å¼å‘½ä»¤","aria-hidden":"true"}},[e._v("#")]),e._v(" å‘½ä»¤å¼å‘½ä»¤")]),e._v(" "),a("p",[e._v("ä½¿ç”¨å‘½ä»¤å¼å‘½ä»¤æ—¶ï¼Œç”¨æˆ·å¯ä»¥åœ¨é›†ç¾¤ä¸­çš„æ´»åŠ¨å¯¹è±¡ä¸Šè¿›è¡Œæ“ä½œã€‚ç”¨æˆ·å°†æ“ä½œä¼ ç»™ kubectl å‘½ä»¤ä½œä¸ºå‚æ•°æˆ–æ ‡å¿—ã€‚\n"),a("br"),e._v("\nè¿™æ˜¯å¼€å§‹æˆ–è€…åœ¨é›†ç¾¤ä¸­è¿è¡Œä¸€æ¬¡æ€§ä»»åŠ¡çš„æœ€ç®€å•æ–¹æ³•ã€‚å› ä¸ºè¿™ä¸ªæŠ€æœ¯ç›´æ¥åœ¨æ´»åŠ¨å¯¹è±¡ä¸Šæ“ä½œï¼Œæ‰€ä»¥å®ƒä¸æä¾›ä»¥å‰é…ç½®çš„å†å²è®°å½•ã€‚\n"),a("br"),e._v("\nä¾‹å­\n"),a("br"),e._v("\né€šè¿‡åˆ›å»º Deployment å¯¹è±¡æ¥è¿è¡Œ nginx å®¹å™¨çš„å®ä¾‹ï¼š\n"),a("br"),e._v("\nkubectl run nginx --image nginx\n"),a("br"),e._v("\nä½¿ç”¨ä¸åŒçš„è¯­æ³•æ¥è¾¾åˆ°åŒæ ·çš„ä¸Šé¢çš„æ•ˆæœï¼š\n"),a("br"),e._v("\nkubectl create deployment nginx --image nginx\n"),a("br"),e._v(" "),a("b",[e._v("æƒè¡¡")]),e._v(" "),a("br"),e._v("\nä¸å¯¹è±¡é…ç½®ç›¸æ¯”çš„ä¼˜ç‚¹ï¼š")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("å‘½ä»¤ç®€å•ï¼Œæ˜“å­¦ä¸”æ˜“äºè®°å¿†ã€‚")])]),e._v(" "),a("li",[a("p",[e._v("å‘½ä»¤ä»…éœ€ä¸€æ­¥å³å¯å¯¹é›†ç¾¤è¿›è¡Œæ›´æ”¹ã€‚\nä¸å¯¹è±¡é…ç½®ç›¸æ¯”çš„ç¼ºç‚¹ï¼š")])]),e._v(" "),a("li",[a("p",[e._v("å‘½ä»¤ä¸ä¸å˜æ›´å®¡æŸ¥æµç¨‹é›†æˆã€‚")])]),e._v(" "),a("li",[a("p",[e._v("å‘½ä»¤ä¸æä¾›ä¸æ›´æ”¹å…³è”çš„å®¡æ ¸è·Ÿè¸ªã€‚")])]),e._v(" "),a("li",[a("p",[e._v("é™¤äº†å®æ—¶å†…å®¹å¤–ï¼Œå‘½ä»¤ä¸æä¾›è®°å½•æºã€‚")])]),e._v(" "),a("li",[a("p",[e._v("å‘½ä»¤ä¸æä¾›ç”¨äºåˆ›å»ºæ–°å¯¹è±¡çš„æ¨¡æ¿ã€‚")])])]),e._v(" "),a("h3",{attrs:{id:"å‘½ä»¤å¼å¯¹è±¡é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘½ä»¤å¼å¯¹è±¡é…ç½®","aria-hidden":"true"}},[e._v("#")]),e._v(" å‘½ä»¤å¼å¯¹è±¡é…ç½®")]),e._v(" "),a("p",[e._v("åœ¨å‘½ä»¤å¼å¯¹è±¡é…ç½®ä¸­ï¼Œkubectl å‘½ä»¤æŒ‡å®šæ“ä½œï¼ˆåˆ›å»ºï¼Œæ›¿æ¢ç­‰ï¼‰ï¼Œå¯é€‰æ ‡å¿—å’Œè‡³å°‘ä¸€ä¸ªæ–‡ä»¶åã€‚æŒ‡å®šçš„æ–‡ä»¶å¿…é¡»åŒ…å« YAML æˆ– JSON æ ¼å¼çš„å¯¹è±¡çš„å®Œæ•´å®šä¹‰ã€‚")]),e._v(" "),a("p",[e._v("æœ‰å…³å¯¹è±¡å®šä¹‰çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ "),a("a",{attrs:{href:"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.16/",target:"_blank"}},[e._v("API å‚è€ƒ1.16")]),e._v("ã€‚")]),e._v(" "),a("div",{staticClass:"danger custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("è­¦å‘Š")]),e._v(" "),a("p",[e._v("replace å‘½ä»¤å¼å‘½ä»¤å°†ç°æœ‰è§„èŒƒæ›¿æ¢ä¸ºæ–°æä¾›çš„è§„èŒƒï¼Œå¹¶åˆ é™¤å¯¹é…ç½®æ–‡ä»¶ä¸­ç¼ºå°‘çš„å¯¹è±¡çš„æ‰€æœ‰æ›´æ”¹ã€‚æ­¤æ–¹æ³•ä¸åº”ä¸è§„èŒƒç‹¬ç«‹äºé…ç½®æ–‡ä»¶è¿›è¡Œæ›´æ–°çš„èµ„æºç±»å‹ä¸€èµ·ä½¿ç”¨ã€‚æ¯”å¦‚ç±»å‹ä¸º LoadBalancer çš„æœåŠ¡ï¼Œå®ƒçš„ externalIPs å­—æ®µå°±æ˜¯ç‹¬ç«‹äºé›†ç¾¤çš„é…ç½®è¿›è¡Œæ›´æ–°ã€‚")])]),e._v(" "),a("p",[e._v("ä¾‹å­\n"),a("br"),e._v("\nåˆ›å»ºåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„å¯¹è±¡ï¼š\n"),a("br"),e._v("\nkubectl create -f nginx.yaml\n"),a("br"),e._v("\nåˆ é™¤åœ¨ä¸¤ä¸ªé…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„å¯¹è±¡ï¼š\n"),a("br"),e._v("\nkubectl delete -f nginx.yaml -f redis.yaml\n"),a("br"),e._v("\né€šè¿‡è¦†ç›–å®æ—¶é…ç½®æ¥æ›´æ–°é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„å¯¹è±¡ï¼š\n"),a("br"),e._v("\nkubectl replace -f nginx.yaml\n"),a("br")]),e._v(" "),a("h4",{attrs:{id:"æƒè¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æƒè¡¡","aria-hidden":"true"}},[e._v("#")]),e._v(" æƒè¡¡")]),e._v(" "),a("p",[e._v("ä¸å‘½ä»¤å¼å‘½ä»¤ç›¸æ¯”çš„ä¼˜ç‚¹ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("å¯¹è±¡é…ç½®å¯ä»¥å­˜å‚¨åœ¨æºæ§åˆ¶ç³»ç»Ÿä¸­ï¼Œæ¯”å¦‚ Gitã€‚")]),e._v(" "),a("li",[e._v("å¯¹è±¡é…ç½®å¯ä»¥ä¸æµç¨‹é›†æˆï¼Œä¾‹å¦‚åœ¨æ¨é€å’Œå®¡è®¡ä¹‹å‰æ£€æŸ¥æ›´æ–°ã€‚")]),e._v(" "),a("li",[e._v("å¯¹è±¡é…ç½®æä¾›äº†ç”¨äºåˆ›å»ºæ–°å¯¹è±¡çš„æ¨¡æ¿ã€‚\nä¸å‘½ä»¤å¼å‘½ä»¤ç›¸æ¯”çš„ç¼ºç‚¹ï¼š")]),e._v(" "),a("li",[e._v("å¯¹è±¡é…ç½®éœ€è¦å¯¹å¯¹è±¡æ¶æ„æœ‰åŸºæœ¬çš„äº†è§£ã€‚")]),e._v(" "),a("li",[e._v("å¯¹è±¡é…ç½®éœ€è¦é¢å¤–çš„å†™ YAML æ–‡ä»¶çš„æ­¥éª¤ã€‚\nä¸å£°æ˜å¼å¯¹è±¡é…ç½®ç›¸æ¯”çš„ä¼˜ç‚¹ï¼š")]),e._v(" "),a("li",[e._v("å‘½ä»¤å¼å¯¹è±¡é…ç½®è¡Œä¸ºæ›´åŠ ç®€å•æ˜“æ‡‚ã€‚")]),e._v(" "),a("li",[e._v("ä» Kubernetes 1.5 ç‰ˆæœ¬å¼€å§‹ï¼Œå‘½ä»¤å¼å¯¹è±¡é…ç½®æ›´åŠ æˆç†Ÿã€‚\nä¸å£°æ˜å¼å¯¹è±¡é…ç½®ç›¸æ¯”çš„ç¼ºç‚¹ï¼š")]),e._v(" "),a("li",[e._v("å‘½ä»¤å¼å¯¹è±¡é…ç½®é’ˆå¯¹æ–‡ä»¶è€Œä¸æ˜¯ç›®å½•ä¸Šæ•ˆæœæœ€ä½³ã€‚")]),e._v(" "),a("li",[e._v("å¯¹æ´»åŠ¨å¯¹è±¡çš„æ›´æ–°å¿…é¡»åæ˜ åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå¦åˆ™å°†åœ¨ä¸‹ä¸€æ¬¡æ›¿æ¢æ˜¯ä¸¢å¤±")])]),e._v(" "),a("h3",{attrs:{id:"å£°æ˜å¼å¯¹è±¡é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å£°æ˜å¼å¯¹è±¡é…ç½®","aria-hidden":"true"}},[e._v("#")]),e._v(" å£°æ˜å¼å¯¹è±¡é…ç½®")]),e._v(" "),a("p",[e._v("ä½¿ç”¨å£°æ˜å¼å¯¹è±¡é…ç½®æ—¶ï¼Œç”¨æˆ·å¯¹æœ¬åœ°å­˜å‚¨çš„å¯¹è±¡é…ç½®æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯ç”¨æˆ·æœªå®šä¹‰è¦å¯¹è¯¥æ–‡ä»¶æ‰§è¡Œçš„æ“ä½œã€‚ä¼šè‡ªåŠ¨é€šè¿‡ kubectl æŒ‰å¯¹è±¡æ£€æµ‹æ¥åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤å¯¹è±¡ã€‚è¿™ä½¿å¾—å¯ä»¥åœ¨ç›®å½•ä¸Šå·¥ä½œï¼Œå…¶ä¸­å¯èƒ½éœ€è¦å¯¹ä¸åŒçš„å¯¹è±¡æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("æ³¨æ„ï¼š")]),e._v(" "),a("p",[e._v("å£°æ˜å¼å¯¹è±¡é…ç½®ä¿ç•™å…¶ä»–ç¼–å†™è€…æ‰€åšçš„ä¿®æ”¹ï¼Œå³ä½¿è¿™äº›æ›´æ”¹å¹¶æœªåˆå¹¶åˆ°å¯¹è±¡é…ç½®æ–‡ä»¶ä¸­ã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨ patch API æ“ä½œä»…å†™å…¥è§‚å¯Ÿåˆ°çš„å·®å¼‚ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ replace API æ“ä½œæ¥æ›¿æ¢æ•´ä¸ªå¯¹è±¡é…ç½®æ¥å®ç°")])]),e._v(" "),a("p",[a("b",[e._v("ä¾‹å­")]),e._v("\nå¤„ç† configs ç›®å½•ä¸­çš„æ‰€æœ‰å¯¹è±¡é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºå¹¶æ›´æ–°æ´»åŠ¨å¯¹è±¡ã€‚å¯ä»¥é¦–å…ˆä½¿ç”¨ diff å­å‘½ä»¤æŸ¥çœ‹å°†è¦è¿›è¡Œçš„æ›´æ”¹ï¼Œç„¶ååœ¨è¿›è¡Œåº”ç”¨ï¼š\n"),a("br")]),e._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("kubectl "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("diff")]),e._v(" -f configs/\nkubectl apply -f configs/\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("é€’å½’å¤„ç†ç›®å½•ï¼š\n"),a("br")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("kubectl "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("diff")]),e._v(" -R -f configs/\nkubectl apply -R -f configs/\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("h4",{attrs:{id:"æƒè¡¡-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æƒè¡¡-2","aria-hidden":"true"}},[e._v("#")]),e._v(" æƒè¡¡")]),e._v(" "),a("p",[e._v("ä¸å‘½ä»¤å¼å¯¹è±¡é…ç½®ç›¸æ¯”çš„ä¼˜ç‚¹ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("å³ä½¿æœªå°†å¯¹æ´»åŠ¨å¯¹è±¡æ‰€åšçš„æ›´æ”¹æœªåˆå¹¶å›åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œä¹Ÿå°†ä¿ç•™è¿™äº›æ›´æ”¹ã€‚")]),e._v(" "),a("li",[e._v("å£°æ˜æ€§å¯¹è±¡é…ç½®æ›´å¥½åœ°æ”¯æŒå¯¹ç›®å½•è¿›è¡Œæ“ä½œå¹¶è‡ªåŠ¨æ£€æµ‹æ¯ä¸ªå¯¹è±¡çš„æ“ä½œç±»å‹ï¼ˆåˆ›å»ºï¼Œä¿®è¡¥ï¼Œåˆ é™¤ï¼‰ã€‚\n"),a("br"),e._v(" "),a("br"),e._v("\nä¸å‘½ä»¤å¼å¯¹è±¡é…ç½®ç›¸æ¯”çš„ç¼ºç‚¹ï¼š")]),e._v(" "),a("li",[e._v("å£°æ˜å¼å¯¹è±¡é…ç½®éš¾äºè°ƒè¯•å¹¶ä¸”å‡ºç°å¼‚å¸¸æ—¶éš¾ä»¥ç†è§£ã€‚")]),e._v(" "),a("li",[e._v("ä½¿ç”¨å·®å¼‚çš„éƒ¨åˆ†æ›´æ–°ä¼šåˆ›å»ºå¤æ‚çš„åˆå¹¶å’Œè¡¥ä¸æ“ä½œã€‚")])]),e._v(" "),a("h2",{attrs:{id:"åç§°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åç§°","aria-hidden":"true"}},[e._v("#")]),e._v(" åç§°")]),e._v(" "),a("p",[e._v("Kubernetes REST API ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½ç”±åç§°å’Œ UID æ˜ç¡®æ ‡è¯†ã€‚\n"),a("br"),e._v("\nå¯¹äºéå”¯ä¸€çš„ç”¨æˆ·æä¾›çš„å±æ€§ï¼ŒKubernetes æä¾›äº†"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/",target:"_blank"}},[e._v("æ ‡ç­¾")]),e._v("å’Œ"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/",target:"_blank"}},[e._v("æ³¨é‡Š")]),e._v("ã€‚\n"),a("br"),e._v("\næœ‰å…³åç§°å’Œ UID çš„ç²¾ç¡®è¯­æ³•è§„åˆ™ï¼Œè¯·å‚è§æ ‡è¯†ç¬¦è®¾è®¡æ–‡æ¡£ã€‚\n"),a("br")]),e._v(" "),a("h3",{attrs:{id:"åç§°-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åç§°-2","aria-hidden":"true"}},[e._v("#")]),e._v(" åç§°")]),e._v(" "),a("p",[e._v("å®¢æˆ·ç«¯æä¾›çš„å­—ç¬¦ä¸²ï¼Œå¼•ç”¨èµ„æº url ä¸­çš„å¯¹è±¡ï¼Œå¦‚/api/v1/pods/some nameã€‚\n"),a("br"),e._v("\nä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªç»™å®šç±»å‹çš„å¯¹è±¡å…·æœ‰ç»™å®šçš„åç§°ã€‚ä½†æ˜¯ï¼Œå¦‚æœåˆ é™¤å¯¹è±¡ï¼Œåˆ™å¯ä»¥åˆ›å»ºåŒåçš„æ–°å¯¹è±¡ã€‚\n"),a("br"),e._v("\næŒ‰ç…§æƒ¯ä¾‹ï¼ŒKubernetes èµ„æºçš„åç§°æœ€å¤§é•¿åº¦åº”ä¸º 253 ä¸ªå­—ç¬¦ï¼Œç”±å°å†™å­—æ¯ã€æ•°å­—ã€-å’Œ . ç»„æˆï¼Œä½†æŸäº›èµ„æºæœ‰æ›´å…·ä½“çš„é™åˆ¶ã€‚\n"),a("br"),e._v("\nä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ŒPod åä¸º nginx demoï¼Œå®¹å™¨åä¸º nginxï¼š")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Pod\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("demo\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("1.7.9\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("containerPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br")])]),a("h3",{attrs:{id:"uids"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uids","aria-hidden":"true"}},[e._v("#")]),e._v(" UIDs")]),e._v(" "),a("p",[e._v("Kubernetes ç³»ç»Ÿç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œå”¯ä¸€æ ‡è¯†å¯¹è±¡ã€‚\n"),a("br"),e._v("\nåœ¨ Kubernetes é›†ç¾¤çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­åˆ›å»ºçš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä¸åŒçš„ uidï¼Œå®ƒæ—¨åœ¨åŒºåˆ†ç±»ä¼¼å®ä½“çš„å†å²äº‹ä»¶ã€‚")]),e._v(" "),a("h2",{attrs:{id:"å‘½åç©ºé—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘½åç©ºé—´","aria-hidden":"true"}},[e._v("#")]),e._v(" å‘½åç©ºé—´")]),e._v(" "),a("p",[e._v("Kubernetes æ”¯æŒå¤šä¸ªè™šæ‹Ÿé›†ç¾¤ï¼Œå®ƒä»¬åº•å±‚ä¾èµ–äºåŒä¸€ä¸ªç‰©ç†é›†ç¾¤ã€‚ è¿™äº›è™šæ‹Ÿé›†ç¾¤è¢«ç§°ä¸ºå‘½åç©ºé—´ã€‚")]),e._v(" "),a("h3",{attrs:{id:"ä½•æ—¶ä½¿ç”¨å¤šä¸ªå‘½åç©ºé—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½•æ—¶ä½¿ç”¨å¤šä¸ªå‘½åç©ºé—´","aria-hidden":"true"}},[e._v("#")]),e._v(" ä½•æ—¶ä½¿ç”¨å¤šä¸ªå‘½åç©ºé—´")]),e._v(" "),a("p",[e._v("å‘½åç©ºé—´é€‚ç”¨äºå­˜åœ¨å¾ˆå¤šè·¨å¤šä¸ªå›¢é˜Ÿæˆ–é¡¹ç›®çš„ç”¨æˆ·çš„åœºæ™¯ã€‚ å¯¹äºåªæœ‰å‡ åˆ°å‡ åä¸ªç”¨æˆ·çš„é›†ç¾¤ï¼Œæ ¹æœ¬ä¸éœ€è¦åˆ›å»ºæˆ–è€ƒè™‘å‘½åç©ºé—´ã€‚å½“æ‚¨éœ€è¦å‘½åç©ºé—´æä¾›çš„ç‰¹æ€§æ—¶ï¼Œè¯·å¼€å§‹ä½¿ç”¨å®ƒä»¬ã€‚\n"),a("br"),e._v("\nå‘½åç©ºé—´ä¸ºåç§°æä¾›äº†ä¸€ä¸ªèŒƒå›´ã€‚ èµ„æºçš„åç§°éœ€è¦åœ¨å‘½åç©ºé—´å†…æ˜¯æƒŸä¸€çš„ï¼Œä½†ä¸èƒ½è·¨å‘½åç©ºé—´ã€‚å‘½åç©ºé—´ä¸èƒ½åµŒå¥—åœ¨å¦å¤–ä¸€ä¸ªå‘½åç©ºé—´å†…ï¼Œè€Œä¸”æ¯ä¸ª Kubernetes èµ„æºåªèƒ½å±äºä¸€ä¸ªå‘½åç©ºé—´ã€‚\n"),a("br"),e._v("\nå‘½åç©ºé—´æ˜¯åœ¨å¤šä¸ªç”¨æˆ·ä¹‹é—´åˆ’åˆ†é›†ç¾¤èµ„æºçš„ä¸€ç§æ–¹æ³•ï¼ˆé€šè¿‡"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/policy/resource-quotas/",target:"_blank"}},[e._v("èµ„æºé…é¢")]),e._v("ï¼‰ã€‚\n"),a("br"),e._v("\nåœ¨ Kubernetes æœªæ¥ç‰ˆæœ¬ä¸­ï¼Œç›¸åŒå‘½åç©ºé—´ä¸­çš„å¯¹è±¡é»˜è®¤å°†å…·æœ‰ç›¸åŒçš„è®¿é—®æ§åˆ¶ç­–ç•¥ã€‚\n"),a("br"),e._v("\nä¸éœ€è¦ä½¿ç”¨å¤šä¸ªå‘½åç©ºé—´æ¥åˆ†éš”è½»å¾®ä¸åŒçš„èµ„æºï¼Œä¾‹å¦‚åŒä¸€è½¯ä»¶çš„ä¸åŒç‰ˆæœ¬ï¼š ä½¿ç”¨æ ‡ç­¾æ¥åŒºåˆ†åŒä¸€å‘½åç©ºé—´ä¸­çš„ä¸åŒèµ„æºã€‚")]),e._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨å‘½åç©ºé—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨å‘½åç©ºé—´","aria-hidden":"true"}},[e._v("#")]),e._v(" ä½¿ç”¨å‘½åç©ºé—´")]),e._v(" "),a("p",[e._v("å‘½åç©ºé—´çš„åˆ›å»ºå’Œåˆ é™¤å·²åœ¨"),a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/administer-cluster/namespaces/",target:"_blank"}},[e._v("å‘½åç©ºé—´çš„ç®¡ç†æŒ‡å—æ–‡æ¡£")]),e._v("ä¸­è¿›è¡Œäº†æè¿°ã€‚")]),e._v(" "),a("h4",{attrs:{id:"æŸ¥çœ‹å‘½åç©ºé—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥çœ‹å‘½åç©ºé—´","aria-hidden":"true"}},[e._v("#")]),e._v(" æŸ¥çœ‹å‘½åç©ºé—´")]),e._v(" "),a("p",[e._v("æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ—å‡ºé›†ç¾¤ä¸­ç°å­˜çš„å‘½åç©ºé—´ï¼š")]),e._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("kubectl get namespace\n\nè¿”å›ç»“æœï¼š\nNAME          STATUS    AGE\ndefault       Active    1d\nkube-system   Active    1d\nkube-public   Active    1d\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("Kubernetes ä¼šåˆ›å»ºä¸‰ä¸ªåˆå§‹å‘½åç©ºé—´ï¼š Kubernetes starts with three initial namespaces:")]),e._v(" "),a("ul",[a("li",[e._v("default æ²¡æœ‰æŒ‡æ˜ä½¿ç”¨å…¶å®ƒå‘½åç©ºé—´çš„å¯¹è±¡æ‰€ä½¿ç”¨çš„é»˜è®¤å‘½åç©ºé—´")]),e._v(" "),a("li",[e._v("kube-system Kubernetes ç³»ç»Ÿåˆ›å»ºå¯¹è±¡æ‰€ä½¿ç”¨çš„å‘½åç©ºé—´")]),e._v(" "),a("li",[e._v("kube-public è¿™ä¸ªå‘½åç©ºé—´æ˜¯è‡ªåŠ¨åˆ›å»ºçš„ï¼Œæ‰€æœ‰ç”¨æˆ·ï¼ˆåŒ…æ‹¬æœªç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·ï¼‰éƒ½å¯ä»¥è¯»å–å®ƒã€‚è¿™ä¸ªå‘½åç©ºé—´ä¸»è¦ç”¨äºé›†ç¾¤ä½¿ç”¨ï¼Œä»¥é˜²æŸäº›èµ„æºåœ¨æ•´ä¸ªé›†ç¾¤ä¸­åº”è¯¥æ˜¯å¯è§å’Œå¯è¯»çš„ã€‚è¿™ä¸ªå‘½åç©ºé—´çš„å…¬å…±æ–¹é¢åªæ˜¯ä¸€ç§çº¦å®šï¼Œè€Œä¸æ˜¯è¦æ±‚ã€‚\n"),a("br"),e._v(" "),a("span",{staticStyle:{color:"red"}},[e._v("ä¸‹é¢æ˜¯è¯´æ˜çš„è‹±æ–‡ï¼š")])]),e._v(" "),a("li",[e._v("default   ï¼šThe default namespace for objects with no other namespace")]),e._v(" "),a("li",[e._v("kube-system  ï¼šThe namespace for objects created by the Kubernetes system")]),e._v(" "),a("li",[e._v("kube-public  ï¼šThis namespace is created automatically and is readable by all users (including those not authenticated). This namespace is mostly reserved for cluster usage, in case that some resources should be visible and readable publicly throughout the whole cluster. The public aspect of this namespace is only a convention, not a requirement")])]),e._v(" "),a("h4",{attrs:{id:"ä¸ºè¯·æ±‚è®¾ç½®å‘½åç©ºé—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºè¯·æ±‚è®¾ç½®å‘½åç©ºé—´","aria-hidden":"true"}},[e._v("#")]),e._v(" ä¸ºè¯·æ±‚è®¾ç½®å‘½åç©ºé—´")]),e._v(" "),a("p",[e._v("è¦ä¸ºå½“å‰çš„è¯·æ±‚è®¾å®šä¸€ä¸ªå‘½åç©ºé—´ï¼Œè¯·ä½¿ç”¨ --namespace å‚æ•°ã€‚")]),e._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("ä¾‹å¦‚ï¼š\nkubectl run nginx --image"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("nginx --namespace"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("insert-namespace-name-here"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nkubectl get pods --namespace"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("insert-namespace-name-here"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h4",{attrs:{id:"è®¾ç½®å‘½åç©ºé—´é¦–é€‰é¡¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®å‘½åç©ºé—´é¦–é€‰é¡¹","aria-hidden":"true"}},[e._v("#")]),e._v(" è®¾ç½®å‘½åç©ºé—´é¦–é€‰é¡¹")]),e._v(" "),a("p",[e._v("æ‚¨å¯ä»¥æ°¸ä¹…ä¿å­˜è¯¥ä¸Šä¸‹æ–‡ä¸­æ‰€æœ‰åç»­ kubectl å‘½ä»¤ä½¿ç”¨çš„å‘½åç©ºé—´ã€‚")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[e._v("kubectl config set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("context "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("current "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("namespace=<insert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("namespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("here"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# éªŒè¯æŸ¥çœ‹å½“å‰çš„å‘½ä»¤ç©ºé—´ï¼ˆValidate itï¼‰ï¼š")]),e._v("\nkubectl config view "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("|")]),e._v(" grep namespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h3",{attrs:{id:"å‘½åç©ºé—´å’Œ-dns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘½åç©ºé—´å’Œ-dns","aria-hidden":"true"}},[e._v("#")]),e._v(" å‘½åç©ºé—´å’Œ DNS")]),e._v(" "),a("p",[e._v("å½“æ‚¨åˆ›å»ºä¸€ä¸ª "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/services-networking/service/",target:"_blank",rel:"noopener noreferrer"}},[e._v("æœåŠ¡"),a("OutboundLink")],1),e._v(" æ—¶ï¼ŒKubernetes ä¼šåˆ›å»ºä¸€ä¸ªç›¸åº”çš„"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/",target:"_blank",rel:"noopener noreferrer"}},[e._v("DNS æ¡ç›®"),a("OutboundLink")],1),e._v("ã€‚")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[e._v("è¯¥æ¡ç›®çš„å½¢å¼æ˜¯ <service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")]),e._v(".<namespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")]),e._v(".svc.cluster.localï¼Œ \nè¿™æ„å‘³ç€å¦‚æœå®¹å™¨åªä½¿ç”¨ <service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")]),e._v("ï¼Œå®ƒå°†è¢«è§£æåˆ°æœ¬åœ°å‘½åç©ºé—´çš„æœåŠ¡ã€‚ \nè¿™å¯¹äºè·¨å¤šä¸ªå‘½åç©ºé—´ï¼ˆå¦‚å¼€å‘ã€åˆ†çº§å’Œç”Ÿäº§ï¼‰ä½¿ç”¨ç›¸åŒçš„é…ç½®éå¸¸æœ‰ç”¨ã€‚ \nå¦‚æœæ‚¨å¸Œæœ›è·¨å‘½åç©ºé—´è®¿é—®ï¼Œåˆ™éœ€è¦ä½¿ç”¨å®Œå…¨é™å®šåŸŸåï¼ˆFQDNï¼‰ã€‚\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("h3",{attrs:{id:"å¹¶éæ‰€æœ‰å¯¹è±¡éƒ½åœ¨å‘½åç©ºé—´ä¸­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶éæ‰€æœ‰å¯¹è±¡éƒ½åœ¨å‘½åç©ºé—´ä¸­","aria-hidden":"true"}},[e._v("#")]),e._v(" å¹¶éæ‰€æœ‰å¯¹è±¡éƒ½åœ¨å‘½åç©ºé—´ä¸­")]),e._v(" "),a("p",[e._v("å¤§å¤šæ•° kubernetes èµ„æºï¼ˆä¾‹å¦‚ Podã€æœåŠ¡ã€å‰¯æœ¬æ§åˆ¶å™¨ç­‰ï¼‰éƒ½ä½äºæŸäº›å‘½åç©ºé—´ä¸­ã€‚ ä½†æ˜¯å‘½åç©ºé—´èµ„æºæœ¬èº«å¹¶ä¸åœ¨å‘½åç©ºé—´ä¸­ã€‚\n"),a("br"),e._v("\nè€Œä¸”åº•å±‚èµ„æºï¼Œä¾‹å¦‚"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/architecture/nodes/",target:"_blank",rel:"noopener noreferrer"}},[e._v("èŠ‚ç‚¹"),a("OutboundLink")],1),e._v("å’ŒæŒä¹…åŒ–å·ä¸å±äºä»»ä½•å‘½åç©ºé—´ã€‚\n"),a("br"),e._v("\næŸ¥çœ‹å“ªäº› Kubernetes èµ„æºåœ¨å‘½åç©ºé—´ä¸­ï¼Œå“ªäº›ä¸åœ¨å‘½åç©ºé—´ä¸­ï¼š")]),e._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# In a namespace")]),e._v("\nkubectl api-resources --namespaced"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Not in a namespace")]),e._v("\nkubectl api-resources --namespaced"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("false\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])]),a("h2",{attrs:{id:"labels-and-selectors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#labels-and-selectors","aria-hidden":"true"}},[e._v("#")]),e._v(" Labels and Selectors")]),e._v(" "),a("p",[e._v("æ ‡ç­¾æ˜¯é™„åŠ åˆ°å¯¹è±¡ï¼ˆä¾‹å¦‚Podsï¼‰çš„é”®/å€¼å¯¹ã€‚æ ‡ç­¾æ—¨åœ¨ç”¨äºæŒ‡å®šå¯¹ç”¨æˆ·æœ‰æ„ä¹‰ä¸”ä¸ç”¨æˆ·ç›¸å…³çš„å¯¹è±¡çš„æ ‡è¯†å±æ€§ï¼Œä½†å¹¶ä¸ç›´æ¥æš—ç¤ºæ ¸å¿ƒç³»ç»Ÿçš„è¯­ä¹‰ã€‚æ ‡ç­¾å¯ç”¨äºç»„ç»‡å’Œé€‰æ‹©å¯¹è±¡çš„å­é›†ã€‚æ ‡ç­¾å¯ä»¥åœ¨åˆ›å»ºæ—¶é™„åŠ åˆ°å¯¹è±¡ï¼Œç„¶åå¯ä»¥éšæ—¶æ·»åŠ å’Œä¿®æ”¹ã€‚æ¯ä¸ªå¯¹è±¡å¯ä»¥å®šä¹‰ä¸€ç»„é”®/å€¼æ ‡ç­¾ã€‚æ¯ä¸ªé”®å¯¹äºç»™å®šçš„å¯¹è±¡å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚\n(Labels are key/value pairs that are attached to objects, such as pods. Labels are intended to be used to specify identifying attributes of objects that are meaningful and relevant to users, but do not directly imply semantics to the core system. Labels can be used to organize and to select subsets of objects. Labels can be attached to objects at creation time and subsequently added and modified at any time. Each object can have a set of key/value labels defined. Each Key must be unique for a given object.)")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"metadata"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"labels"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"key1"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"value1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"key2"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"value2"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("p",[e._v("Labels allow for efficient queries and watches and are ideal for use in UIs and CLIs. Non-identifying information should be recorded using "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/",target:"_blank",rel:"noopener noreferrer"}},[e._v("annotations"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"motivation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#motivation","aria-hidden":"true"}},[e._v("#")]),e._v(" Motivation")]),e._v(" "),a("p",[e._v("æ ‡ç­¾ä½¿ç”¨æˆ·èƒ½å¤Ÿä»¥æ¾æ•£è€¦åˆçš„æ–¹å¼å°†è‡ªå·±çš„ç»„ç»‡ç»“æ„æ˜ å°„åˆ°ç³»ç»Ÿå¯¹è±¡ä¸Šï¼Œè€Œæ— éœ€å®¢æˆ·ç«¯å­˜å‚¨è¿™äº›æ˜ å°„ã€‚\n"),a("br"),e._v("\næœåŠ¡éƒ¨ç½²å’Œæ‰¹å¤„ç†ç®¡é“é€šå¸¸æ˜¯å¤šç»´å®ä½“ï¼ˆä¾‹å¦‚ï¼Œå¤šä¸ªåˆ†åŒºæˆ–éƒ¨ç½²ï¼Œå¤šä¸ªå‘å¸ƒè½¨é“ï¼Œå¤šå±‚ï¼Œæ¯å±‚å¤šä¸ªå¾®æœåŠ¡ï¼‰ã€‚ç®¡ç†é€šå¸¸éœ€è¦æ¨ªåˆ‡æ“ä½œï¼Œè¿™ç ´åäº†ä¸¥æ ¼å±‚æ¬¡è¡¨ç¤ºçš„å°è£…ï¼Œå°¤å…¶æ˜¯ç”±åŸºç¡€ç»“æ„è€Œéç”¨æˆ·ç¡®å®šçš„åˆšæ€§å±‚æ¬¡ã€‚\n"),a("br"),e._v("\næ ‡ç­¾ç¤ºä¾‹ï¼š\n"),a("br")]),e._v(" "),a("ul",[a("li",[e._v('"release" : "stable"ï¼Œ "release" : "canary"')]),e._v(" "),a("li",[e._v('"environment" : "dev"ï¼Œ"environment" : "qa"ï¼Œ"environment" : "production"')]),e._v(" "),a("li",[e._v('"tier" : "frontend"ï¼Œ"tier" : "backend"ï¼Œ"tier" : "cache"')]),e._v(" "),a("li",[e._v('"partition" : "customerA"ï¼Œ "partition" : "customerB"')]),e._v(" "),a("li",[e._v('"track" : "daily"ï¼Œ "track" : "weekly"')])]),e._v(" "),a("p",[e._v("è¿™äº›åªæ˜¯å¸¸ç”¨æ ‡ç­¾çš„ç¤ºä¾‹ï¼›æ‚¨å¯ä»¥è‡ªç”±åˆ¶å®šè‡ªå·±çš„çº¦å®šã€‚è¯·è®°ä½ï¼Œæ ‡ç­¾é”®å¯¹äºç»™å®šå¯¹è±¡å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚")]),e._v(" "),a("h3",{attrs:{id:"è¯­æ³•å’Œå­—ç¬¦é›†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯­æ³•å’Œå­—ç¬¦é›†","aria-hidden":"true"}},[e._v("#")]),e._v(" è¯­æ³•å’Œå­—ç¬¦é›†")]),e._v(" "),a("p",[e._v("Labels are key/value pairs. Valid label keys have two segments: an optional prefix and name, separated by a slash (/). The name segment is required and must be 63 characters or less, beginning and ending with an alphanumeric character ([a-z0-9A-Z]) with dashes (-), underscores ("),a("em",[e._v("), dots (.), and alphanumerics between. The prefix is optional. If specified, the prefix must be a DNS subdomain: a series of DNS labels separated by dots (.), not longer than 253 characters in total, followed by a slash (/).\n"),a("br"),e._v("\nIf the prefix is omitted, the label Key is presumed to be private to the user. Automated system components (e.g. kube-scheduler, kube-controller-manager, kube-apiserver, kubectl, or other third-party automation) which add labels to end-user objects must specify a prefix.\n"),a("br"),e._v("\nThe kubernetes.io/ and k8s.io/ prefixes are reserved for Kubernetes core components.\n"),a("br"),e._v("\nValid label values must be 63 characters or less and must be empty or begin and end with an alphanumeric character ([a-z0-9A-Z]) with dashes (-), underscores (")]),e._v("), dots (.), and alphanumerics between.\n"),a("br"),e._v("\nFor example, hereâ€™s the configuration file for a Pod that has two labels environment: production and app: nginx :")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Pod\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("demo\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" production\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("1.7.9\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("containerPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br")])]),a("h3",{attrs:{id:"label-selectors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#label-selectors","aria-hidden":"true"}},[e._v("#")]),e._v(" Label selectors")]),e._v(" "),a("p",[e._v("Unlike "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/names/",target:"_blank",rel:"noopener noreferrer"}},[e._v("names and UIDs"),a("OutboundLink")],1),e._v(", labels do not provide uniqueness. In general, we expect many objects to carry the same label(s).")]),e._v(" "),a("p",[e._v("Via a label selector, the client/user can identify a set of objects. The label selector is the core grouping primitive in Kubernetes.")]),e._v(" "),a("p",[e._v("The API currently supports two types of selectors: equality-based and set-based. A label selector can be made of multiple requirements which are comma-separated. In the case of multiple requirements, all must be satisfied so the comma separator acts as a logical AND (&&) operator.")]),e._v(" "),a("p",[e._v("The semantics of empty or non-specified selectors are dependent on the context, and API types that use selectors should document the validity and meaning of them.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("æç¤º")]),e._v(" "),a("p",[e._v("For some API types, such as ReplicaSets, the label selectors of two instances must not overlap within a namespace, or the controller can see that as conflicting instructions and fail to determine how many replicas should be present")])]),e._v(" "),a("h3",{attrs:{id:"equality-based-requirement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#equality-based-requirement","aria-hidden":"true"}},[e._v("#")]),e._v(" Equality-based requirement")]),e._v(" "),a("p",[e._v("Equality- or inequality-based requirements allow filtering by label keys and values. Matching objects must satisfy all of the specified label constraints, though they may have additional labels as well. Three kinds of operators are admitted =,==,!=. The first two represent equality (and are simply synonyms), while the latter represents inequality. For example:\n"),a("br"),e._v("\nenvironment = production\ntier != frontend\n"),a("br"),e._v("\nThe former selects all resources with key equal to environment and value equal to production. The latter selects all resources with key equal to tier and value distinct from frontend, and all resources with no labels with the tier key. One could filter for resources in production excluding frontend using the comma operator: environment=production,tier!=frontend\nOne usage scenario for equality-based label requirement is for Pods to specify node selection criteria. For example, the sample Pod below selects nodes with the label â€œaccelerator=nvidia-tesla-p100â€.")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Pod\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" cuda"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("test\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" cuda"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("test\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"k8s.gcr.io/cuda-vector-add:v0.1"')]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("resources")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("limits")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("nvidia.com/gpu")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("nodeSelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("accelerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nvidia"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("tesla"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("p100\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br")])]),a("h3",{attrs:{id:"set-based-requirement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set-based-requirement","aria-hidden":"true"}},[e._v("#")]),e._v(" Set-based requirement")]),e._v(" "),a("p",[e._v("Set-based label requirements allow filtering keys according to a set of values. Three kinds of operators are supported: in,notin and exists (only the key identifier). For example:\n"),a("br")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[e._v("environment in (production"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" qa)\ntier notin (frontend"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" backend)\npartition\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[e._v("!partition")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("br"),e._v("\nThe first example selects all resources with key equal to environment and value equal to production or qa. The second example selects all resources with key equal to tier and values other than frontend and backend, and all resources with no labels with the tier key. The third example selects all resources including a label with key partition; no values are checked. The fourth example selects all resources without a label with key partition; no values are checked. Similarly the comma separator acts as an AND operator. So filtering resources with a partition key (no matter the value) and with environment different than  qa can be achieved using partition,environment notin (qa). The set-based label selector is a general form of equality since environment=production is equivalent to environment in (production); similarly for != and notin.\n"),a("p",[e._v("Set-based requirements can be mixed with equality-based requirements. For example: partition in (customerA, customerB),environment!=qa")]),e._v(" "),a("h3",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api","aria-hidden":"true"}},[e._v("#")]),e._v(" API")]),e._v(" "),a("p",[e._v("LIST and WATCH filtering\nLIST and WATCH operations may specify label selectors to filter the sets of objects returned using a query parameter. Both requirements are permitted (presented here as they would appear in a URL query string):")]),e._v(" "),a("ul",[a("li",[e._v("equality-based requirements: ?labelSelector=environment%3Dproduction,tier%3Dfrontend")]),e._v(" "),a("li",[e._v("set-based requirements: ?labelSelector=environment+in+%28production%2Cqa%29%2Ctier+in+%28frontend%29\nBoth label selector styles can be used to list or watch resources via a REST client. For example, targeting apiserver with kubectl and using equality-based one may write:")])]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[e._v("kubectl get pods "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("l environment=production"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("tier=frontend \nor using set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("based requirements"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\nkubectl get pods "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("l 'environment in (production)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("tier in (frontend)'\nAs already mentioned set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("based requirements are more expressive.  For instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" they can implement the OR operator on values"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\nkubectl get pods "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("l 'environment in (production"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" qa)'\nor restricting negative matching via exists operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\nkubectl get pods "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("l 'environment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("environment notin (frontend)'\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br")])]),a("h3",{attrs:{id:"set-references-in-api-objects"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set-references-in-api-objects","aria-hidden":"true"}},[e._v("#")]),e._v(" Set references in API objects")]),e._v(" "),a("p",[e._v("Some Kubernetes objects, such as "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/services-networking/service/",target:"_blank",rel:"noopener noreferrer"}},[e._v("services"),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/",target:"_blank",rel:"noopener noreferrer"}},[e._v("replicationcontrollers"),a("OutboundLink")],1),e._v(", also use label selectors to specify sets of other resources, such as "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/pods/pod/",target:"_blank",rel:"noopener noreferrer"}},[e._v("pods"),a("OutboundLink")],1)]),e._v(" "),a("h3",{attrs:{id:"service-and-replicationcontroller"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-and-replicationcontroller","aria-hidden":"true"}},[e._v("#")]),e._v(" Service and ReplicationController")]),e._v(" "),a("p",[e._v("The set of pods that a service targets is defined with a label selector. Similarly, the population of pods that a replicationcontroller should manage is also defined with a label selector.")]),e._v(" "),a("p",[e._v("Labels selectors for both objects are defined in json or yaml files using maps, and only equality-based requirement selectors are supported:")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"selector"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"component"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"redis"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\nor =="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("selector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" redis\n    \nthis selector (respectively in json or yaml format) is equivalent to component=redis or component in (redis)\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br")])]),a("h3",{attrs:{id:"resources-that-support-set-based-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resources-that-support-set-based-requirements","aria-hidden":"true"}},[e._v("#")]),e._v(" Resources that support set-based requirements")]),e._v(" "),a("p",[e._v("Newer resources, such as "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Job"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/controllers/deployment/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Deployment"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Replica Set"),a("OutboundLink")],1),e._v(",\nand "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Daemon Set"),a("OutboundLink")],1),e._v(", support set-based requirements as well.")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("selector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("matchLabels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" redis\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("matchExpressions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" tier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("operator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" In"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("values")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" environment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("operator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" NotIn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("values")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("è¯´æ˜")]),e._v(" "),a("p",[e._v("matchLabelsæ˜¯{key,value}æˆå¯¹çš„Mapã€‚ä¸€ä¸ªå•ä¸€çš„{key,value}åœ¨matchLabels Mapç›¸å½“äºä¸€ä¸ªå…ƒä»¶matchExpressionsï¼Œå…¶keyå­—æ®µæ˜¯â€œé”®â€ï¼Œ\nåˆ™operatoræ˜¯â€œä»¥â€å’Œvaluesé˜µåˆ—ä»…åŒ…å«â€œå€¼â€ã€‚\nmatchExpressionsæ˜¯Podé€‰æ‹©å™¨è¦æ±‚çš„åˆ—è¡¨ã€‚æœ‰æ•ˆçš„è¿ç®—ç¬¦åŒ…æ‹¬Inï¼ŒNotInï¼ŒExistså’Œ DoesNotExistã€‚å¯¹äºInå’ŒNotInï¼Œ\nè®¾ç½®çš„å€¼å¿…é¡»ä¸ºéç©ºã€‚æ¥è‡ªmatchLabelså’Œçš„æ‰€æœ‰éœ€æ±‚éƒ½matchExpressionsè¢«â€œä¸â€åœ¨ä¸€èµ·-å¿…é¡»å®Œå…¨æ»¡è¶³æ‰èƒ½åŒ¹é…ã€‚")])]),e._v(" "),a("h3",{attrs:{id:"selecting-sets-of-nodes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#selecting-sets-of-nodes","aria-hidden":"true"}},[e._v("#")]),e._v(" Selecting sets of nodes")]),e._v(" "),a("p",[e._v("One use case for selecting over labels is to constrain the set of nodes onto which a pod can schedule.\nSee the documentation on "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/",target:"_blank",rel:"noopener noreferrer"}},[e._v("node selection"),a("OutboundLink")],1),e._v(" for more information")]),e._v(" "),a("h2",{attrs:{id:"æ³¨è§£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨è§£","aria-hidden":"true"}},[e._v("#")]),e._v(" æ³¨è§£")]),e._v(" "),a("p",[e._v("ä½ å¯ä»¥ä½¿ç”¨ Kubernetes æ³¨è§£ä¸ºå¯¹è±¡é™„åŠ ä»»æ„çš„éæ ‡è¯†çš„å…ƒæ•°æ®ã€‚å®¢æˆ·ç«¯ç¨‹åºï¼ˆä¾‹å¦‚å·¥å…·å’Œåº“ï¼‰èƒ½å¤Ÿè·å–è¿™äº›å…ƒæ•°æ®ä¿¡æ¯ã€‚")]),e._v(" "),a("h3",{attrs:{id:"ä¸ºå¯¹è±¡é™„åŠ å…ƒæ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºå¯¹è±¡é™„åŠ å…ƒæ•°æ®","aria-hidden":"true"}},[e._v("#")]),e._v(" ä¸ºå¯¹è±¡é™„åŠ å…ƒæ•°æ®")]),e._v(" "),a("p",[e._v("æ‚¨å¯ä»¥ä½¿ç”¨æ ‡ç­¾æˆ–æ³¨è§£å°†å…ƒæ•°æ®é™„åŠ åˆ° Kubernetes å¯¹è±¡ã€‚ æ ‡ç­¾å¯ä»¥ç”¨æ¥é€‰æ‹©å¯¹è±¡å’ŒæŸ¥æ‰¾æ»¡è¶³æŸäº›æ¡ä»¶çš„å¯¹è±¡é›†åˆã€‚\nç›¸åï¼Œæ³¨è§£ä¸ç”¨äºæ ‡è¯†å’Œé€‰æ‹©å¯¹è±¡ã€‚ æ³¨è§£ä¸­çš„å…ƒæ•°æ®ï¼Œå¯ä»¥å¾ˆå°ï¼Œä¹Ÿå¯ä»¥å¾ˆå¤§ï¼Œå¯ä»¥æ˜¯ç»“æ„åŒ–çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯éç»“æ„åŒ–çš„ï¼Œèƒ½å¤ŸåŒ…å«æ ‡ç­¾ä¸å…è®¸çš„å­—ç¬¦ã€‚\n"),a("br"),e._v("\næ³¨è§£å’Œæ ‡ç­¾ä¸€æ ·ï¼Œæ˜¯é”®/å€¼å¯¹:")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"metadata"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"annotations"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"key1"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"value1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"key2"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"value2"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("p",[e._v("ä»¥ä¸‹æ˜¯ä¸€äº›ä¾‹å­ï¼Œç”¨æ¥è¯´æ˜å“ªäº›ä¿¡æ¯å¯ä»¥ä½¿ç”¨æ³¨è§£æ¥è®°å½•")]),e._v(" "),a("ul",[a("li",[e._v("ç”±å£°æ˜æ€§é…ç½®æ‰€ç®¡ç†çš„å­—æ®µã€‚ å°†è¿™äº›å­—æ®µé™„åŠ ä¸ºæ³¨è§£ï¼Œèƒ½å¤Ÿå°†å®ƒä»¬ä¸å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯è®¾ç½®çš„é»˜è®¤å€¼ã€è‡ªåŠ¨ç”Ÿæˆçš„å­—æ®µä»¥åŠé€šè¿‡è‡ªåŠ¨è°ƒæ•´å¤§å°æˆ–è‡ªåŠ¨ä¼¸ç¼©ç³»ç»Ÿè®¾ç½®çš„å­—æ®µåŒºåˆ†å¼€æ¥ã€‚")]),e._v(" "),a("li",[e._v("æ„å»ºã€å‘å¸ƒæˆ–é•œåƒä¿¡æ¯ï¼ˆå¦‚æ—¶é—´æˆ³ã€å‘å¸ƒ IDã€Git åˆ†æ”¯ã€PR æ•°é‡ã€é•œåƒå“ˆå¸Œã€ä»“åº“åœ°å€ï¼‰ã€‚")]),e._v(" "),a("li",[e._v("æŒ‡å‘æ—¥å¿—è®°å½•ã€ç›‘æ§ã€åˆ†ææˆ–å®¡è®¡ä»“åº“çš„æŒ‡é’ˆã€‚")]),e._v(" "),a("li",[e._v("å¯ç”¨äºè°ƒè¯•ç›®çš„çš„å®¢æˆ·ç«¯åº“æˆ–å·¥å…·ä¿¡æ¯ï¼šä¾‹å¦‚ï¼Œåç§°ã€ç‰ˆæœ¬å’Œæ„å»ºä¿¡æ¯ã€‚")]),e._v(" "),a("li",[e._v("ç”¨æˆ·æˆ–è€…å·¥å…·/ç³»ç»Ÿçš„æ¥æºä¿¡æ¯ï¼Œä¾‹å¦‚æ¥è‡ªå…¶ä»–ç”Ÿæ€ç³»ç»Ÿç»„ä»¶çš„ç›¸å…³å¯¹è±¡çš„ URLã€‚")]),e._v(" "),a("li",[e._v("æ¨å‡ºçš„è½»é‡çº§å·¥å…·çš„å…ƒæ•°æ®ä¿¡æ¯ï¼šä¾‹å¦‚ï¼Œé…ç½®æˆ–æ£€æŸ¥ç‚¹ã€‚")]),e._v(" "),a("li",[e._v("è´Ÿè´£äººå‘˜çš„ç”µè¯æˆ–å‘¼æœºå·ç ï¼Œæˆ–æŒ‡å®šåœ¨ä½•å¤„å¯ä»¥æ‰¾åˆ°è¯¥ä¿¡æ¯çš„ç›®å½•æ¡ç›®ï¼Œå¦‚å›¢é˜Ÿç½‘ç«™ã€‚\nä»ç”¨æˆ·åˆ°æœ€ç»ˆè¿è¡Œçš„æŒ‡ä»¤ï¼Œä»¥ä¿®æ”¹è¡Œä¸ºæˆ–ä½¿ç”¨éæ ‡å‡†åŠŸèƒ½ã€‚\n"),a("br"),e._v("\næ‚¨å¯ä»¥å°†è¿™ç±»ä¿¡æ¯å­˜å‚¨åœ¨å¤–éƒ¨æ•°æ®åº“æˆ–ç›®å½•ä¸­è€Œä¸ä½¿ç”¨æ³¨è§£ï¼Œä½†è¿™æ ·åšå°±ä½¿å¾—å¼€å‘äººå‘˜å¾ˆéš¾ç”Ÿæˆç”¨äºéƒ¨ç½²ã€ç®¡ç†ã€è‡ªæ£€çš„å®¢æˆ·ç«¯å…±äº«åº“å’Œå·¥å…·")])]),e._v(" "),a("h3",{attrs:{id:"è¯­æ³•å’Œå­—ç¬¦é›†-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯­æ³•å’Œå­—ç¬¦é›†-2","aria-hidden":"true"}},[e._v("#")]),e._v(" è¯­æ³•å’Œå­—ç¬¦é›†")]),e._v(" "),a("p",[e._v("æ³¨è§£ å­˜å‚¨çš„å½¢å¼æ˜¯é”®/å€¼å¯¹ã€‚æœ‰æ•ˆçš„æ³¨è§£é”®åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šå¯é€‰çš„å‰ç¼€å’Œåç§°ï¼Œä»¥æ–œæ ï¼ˆ/ï¼‰åˆ†éš”ã€‚\nåç§°æ®µæ˜¯å¿…éœ€é¡¹ï¼Œå¹¶ä¸”å¿…é¡»åœ¨63ä¸ªå­—ç¬¦ä»¥å†…ï¼Œä»¥å­—æ¯æ•°å­—å­—ç¬¦ï¼ˆ[a-z0-9A-Z]ï¼‰å¼€å¤´å’Œç»“å°¾ï¼Œå¹¶å…è®¸ä½¿ç”¨ç ´æŠ˜å·ï¼ˆ-ï¼‰ï¼Œä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ï¼Œç‚¹ï¼ˆ.ï¼‰å’Œå­—æ¯æ•°å­—ã€‚ å‰ç¼€æ˜¯å¯é€‰çš„ã€‚\nå¦‚æœæŒ‡å®šï¼Œåˆ™å‰ç¼€å¿…é¡»æ˜¯DNSå­åŸŸï¼šä¸€ç³»åˆ—ç”±ç‚¹ï¼ˆ.ï¼‰åˆ†éš”çš„DNSæ ‡ç­¾ï¼Œæ€»è®¡ä¸è¶…è¿‡253ä¸ªå­—ç¬¦ï¼Œåè·Ÿæ–œæ ï¼ˆ/ï¼‰ã€‚ å¦‚æœçœç•¥å‰ç¼€ï¼Œåˆ™å‡å®šæ³¨é‡Šé”®å¯¹ç”¨æˆ·æ˜¯ç§æœ‰çš„ã€‚\nç”±ç³»ç»Ÿç»„ä»¶æ·»åŠ çš„æ³¨é‡Šï¼ˆä¾‹å¦‚ï¼Œkube-schedulerï¼Œkube-controller-managerï¼Œkube-apiserverï¼Œkubectl æˆ–å…¶ä»–ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼‰ï¼Œå¿…é¡»ä¸ºç»ˆç«¯ç”¨æˆ·æ·»åŠ æ³¨é‡Šå‰ç¼€ã€‚\n"),a("br"),e._v("\nkubernetes.io / å’Œ k8s.io / å‰ç¼€æ˜¯ä¸ºKubernetesæ ¸å¿ƒç»„ä»¶ä¿ç•™çš„ã€‚")]),e._v(" "),a("p",[e._v("ä¾‹å¦‚ï¼Œè¿™æ˜¯Podçš„é…ç½®æ–‡ä»¶ï¼Œå…¶æ³¨é‡Šä¸º imageregistryï¼šhttpsï¼š// hub.docker.com /")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Pod\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" annotations"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("demo\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("annotations")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("imageregistry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://hub.docker.com/"')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("1.7.9\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("containerPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br")])]),a("h2",{attrs:{id:"å­—æ®µé€‰æ‹©å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­—æ®µé€‰æ‹©å™¨","aria-hidden":"true"}},[e._v("#")]),e._v(" å­—æ®µé€‰æ‹©å™¨")]),e._v(" "),a("p",[e._v("å­—æ®µé€‰æ‹©å™¨å…è®¸æ‚¨æ ¹æ®ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºå­—æ®µçš„å€¼"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ç­›é€‰ Kubernetes èµ„æº"),a("OutboundLink")],1),e._v("ã€‚ ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨å­—æ®µé€‰æ‹©å™¨æŸ¥è¯¢çš„ä¾‹å­ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("metadata.name=my-service")]),e._v(" "),a("li",[e._v("metadata.namespace!=default")]),e._v(" "),a("li",[e._v("status.phase=Pending\nä¸‹é¢è¿™ä¸ª kubectl å‘½ä»¤å°†ç­›é€‰å‡º"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-phase",target:"_blank",rel:"noopener noreferrer"}},[e._v("status.phase"),a("OutboundLink")],1),e._v("å­—æ®µå€¼ä¸º Running çš„æ‰€æœ‰ Podï¼š")])]),e._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("kubectl get pods --field-selector status.phase"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("Running\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("æ³¨æ„")]),e._v(" "),a("p",[e._v("å­—æ®µé€‰æ‹©å™¨æœ¬è´¨ä¸Šæ˜¯èµ„æº"),a("em",[e._v("è¿‡æ»¤å™¨")]),e._v("ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå­—æ®µé€‰æ‹©å™¨/è¿‡æ»¤å™¨æ˜¯æœªè¢«åº”ç”¨çš„ï¼Œè¿™æ„å‘³ç€æŒ‡å®šç±»å‹çš„æ‰€æœ‰èµ„æºéƒ½ä¼šè¢«ç­›é€‰å‡ºæ¥ã€‚ è¿™ä½¿å¾—ä»¥ä¸‹çš„ä¸¤ä¸ª kubectl æŸ¥è¯¢æ˜¯ç­‰ä»·çš„ï¼š\n"),a("br"),e._v("\nkubectl get pods\n"),a("br"),e._v('\nkubectl get pods --field-selector ""')])]),e._v(" "),a("h3",{attrs:{id:"æ”¯æŒçš„å­—æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¯æŒçš„å­—æ®µ","aria-hidden":"true"}},[e._v("#")]),e._v(" æ”¯æŒçš„å­—æ®µ")]),e._v(" "),a("p",[e._v("ä¸åŒçš„ Kubernetes èµ„æºç±»å‹æ”¯æŒä¸åŒçš„å­—æ®µé€‰æ‹©å™¨ã€‚ æ‰€æœ‰èµ„æºç±»å‹éƒ½æ”¯æŒ metadata.name å’Œ metadata.namespace å­—æ®µã€‚ ä½¿ç”¨ä¸è¢«æ”¯æŒçš„å­—æ®µé€‰æ‹©å™¨ä¼šäº§ç”Ÿé”™è¯¯ï¼Œä¾‹å¦‚ï¼š")]),e._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("kubectl get ingress --field-selector foo.bar"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("baz\nError from server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("BadRequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(": Unable to "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("find")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ingresses"')]),e._v(" that match label selector "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v(", field selector "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"foo.bar=baz"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"foo.bar"')]),e._v(" is not a known field selector: only "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"metadata.name"')]),e._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"metadata.namespace"')]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("h3",{attrs:{id:"æ”¯æŒçš„è¿ç®—ç¬¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¯æŒçš„è¿ç®—ç¬¦","aria-hidden":"true"}},[e._v("#")]),e._v(" æ”¯æŒçš„è¿ç®—ç¬¦")]),e._v(" "),a("p",[e._v("æ‚¨å¯ä»¥ä½¿ç”¨ =ã€==å’Œ != å¯¹å­—æ®µé€‰æ‹©å™¨è¿›è¡Œè¿ç®—ï¼ˆ= å’Œ == çš„æ„ä¹‰æ˜¯ç›¸åŒçš„ï¼‰ã€‚ ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ª kubectl å‘½ä»¤å°†ç­›é€‰æ‰€æœ‰ä¸å±äº default åç§°ç©ºé—´çš„ Kubernetes Serviceï¼š\n"),a("br"),e._v("\nkubectl get services  --all-namespaces --field-selector metadata.namespace!=default")]),e._v(" "),a("h3",{attrs:{id:"é“¾å¼é€‰æ‹©å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é“¾å¼é€‰æ‹©å™¨","aria-hidden":"true"}},[e._v("#")]),e._v(" é“¾å¼é€‰æ‹©å™¨")]),e._v(" "),a("p",[e._v("åŒ"),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/",target:"_blank",rel:"noopener noreferrer"}},[e._v("æ ‡ç­¾"),a("OutboundLink")],1),e._v("å’Œå…¶ä»–é€‰æ‹©å™¨ä¸€æ ·ï¼Œå­—æ®µé€‰æ‹©å™¨å¯ä»¥é€šè¿‡ä½¿ç”¨é€—å·åˆ†éš”çš„åˆ—è¡¨ç»„æˆä¸€ä¸ªé€‰æ‹©é“¾ã€‚ ä¸‹é¢è¿™ä¸ª kubectl å‘½ä»¤å°†ç­›é€‰ status.phase å­—æ®µä¸ç­‰äº Running åŒæ—¶ spec.restartPolicy å­—æ®µç­‰äº Always çš„æ‰€æœ‰ Podï¼š")]),e._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("kubectl get pods --field-selector"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("status.phase"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!=")]),e._v("Running,spec.restartPolicy"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("Always\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h3",{attrs:{id:"å¤šç§èµ„æºç±»å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šç§èµ„æºç±»å‹","aria-hidden":"true"}},[e._v("#")]),e._v(" å¤šç§èµ„æºç±»å‹")]),e._v(" "),a("p",[e._v("æ‚¨èƒ½å¤Ÿè·¨å¤šç§èµ„æºç±»å‹æ¥ä½¿ç”¨å­—æ®µé€‰æ‹©å™¨ã€‚ ä¸‹é¢è¿™ä¸ª kubectl å‘½ä»¤å°†ç­›é€‰å‡ºæ‰€æœ‰ä¸åœ¨ default å‘½åç©ºé—´ä¸­çš„ StatefulSet å’Œ Serviceï¼š\n"),a("br")]),e._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("kubectl get statefulsets,services --all-namespaces --field-selector metadata.namespace"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!=")]),e._v("default\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h2",{attrs:{id:"æ¨èä½¿ç”¨çš„æ ‡ç­¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¨èä½¿ç”¨çš„æ ‡ç­¾","aria-hidden":"true"}},[e._v("#")]),e._v(" æ¨èä½¿ç”¨çš„æ ‡ç­¾")]),e._v(" "),a("p",[e._v("é™¤äº† kubectl å’Œ dashboard ä¹‹å¤–ï¼Œæ‚¨å¯ä»¥å…¶ä»–å·¥å…·æ¥å¯è§†åŒ–å’Œç®¡ç† Kubernetes å¯¹è±¡ã€‚ ä¸€ç»„é€šç”¨çš„æ ‡ç­¾å¯ä»¥è®©å¤šä¸ªå·¥å…·ä¹‹é—´äº’æ“ä½œï¼Œç”¨æ‰€æœ‰å·¥å…·éƒ½èƒ½ç†è§£çš„é€šç”¨æ–¹å¼æè¿°å¯¹è±¡ã€‚\n"),a("br"),e._v("\né™¤äº†æ”¯æŒå·¥å…·å¤–ï¼Œæ¨èçš„æ ‡ç­¾è¿˜ä»¥ä¸€ç§å¯ä»¥æŸ¥è¯¢çš„æ–¹å¼æè¿°äº†åº”ç”¨ç¨‹åºã€‚\n"),a("br"),e._v("\nå…ƒæ•°æ®å›´ç»• åº”ç”¨ï¼ˆapplicationï¼‰ çš„æ¦‚å¿µè¿›è¡Œç»„ç»‡ã€‚Kubernetes ä¸æ˜¯ å¹³å°å³æœåŠ¡ï¼ˆPaaSï¼‰ï¼Œæ²¡æœ‰æˆ–å¼ºåˆ¶æ‰§è¡Œæ­£å¼çš„åº”ç”¨ç¨‹åºæ¦‚å¿µã€‚ ç›¸åï¼Œåº”ç”¨ç¨‹åºæ˜¯éæ­£å¼çš„ï¼Œå¹¶ä½¿ç”¨å…ƒæ•°æ®è¿›è¡Œæè¿°ã€‚åº”ç”¨ç¨‹åºåŒ…å«çš„å®šä¹‰æ˜¯æ¾æ•£çš„ã€‚")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("æ³¨æ„")]),e._v(" "),a("p",[e._v("è¿™äº›æ˜¯æ¨èçš„æ ‡ç­¾ã€‚å®ƒä»¬ä½¿ç®¡ç†åº”ç”¨ç¨‹åºå˜å¾—æ›´å®¹æ˜“ä½†ä¸æ˜¯ä»»ä½•æ ¸å¿ƒå·¥å…·æ‰€å¿…éœ€çš„ã€‚")])]),e._v(" "),a("p",[e._v("å…±äº«æ ‡ç­¾å’Œæ³¨è§£éƒ½ä½¿ç”¨åŒä¸€ä¸ªå‰ç¼€ï¼šapp.kubernetes.ioã€‚æ²¡æœ‰å‰ç¼€çš„æ ‡ç­¾æ˜¯ç”¨æˆ·ç§æœ‰çš„ã€‚å…±äº«å‰ç¼€å¯ä»¥ç¡®ä¿å…±äº«æ ‡ç­¾ä¸ä¼šå¹²æ‰°ç”¨æˆ·è‡ªå®šä¹‰çš„æ ‡ç­¾ã€‚")]),e._v(" "),a("h3",{attrs:{id:"æ ‡ç­¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ ‡ç­¾","aria-hidden":"true"}},[e._v("#")]),e._v(" æ ‡ç­¾")]),e._v(" "),a("p",[e._v("ä¸ºäº†å……åˆ†åˆ©ç”¨è¿™äº›æ ‡ç­¾ï¼Œåº”è¯¥åœ¨æ¯ä¸ªèµ„æºå¯¹è±¡ä¸Šéƒ½ä½¿ç”¨å®ƒä»¬ã€‚")]),e._v(" "),a("table",[a("tr",[a("th",{staticStyle:{background:"#555"},attrs:{width:"35%"}},[e._v("é”®")]),e._v(" "),a("th",{staticStyle:{background:"#555"},attrs:{width:"35%"}},[e._v("æè¿°")]),e._v(" "),a("th",{staticStyle:{background:"#555"},attrs:{width:"15%"}},[e._v("ç¤ºä¾‹")]),e._v(" "),a("th",{staticStyle:{background:"#555"},attrs:{width:"15%"}},[e._v("ç±»å‹")])]),e._v(" "),a("tr",[a("td",[e._v("app.kubernetes.io/name")]),e._v(" "),a("td",[e._v("åº”ç”¨ç¨‹åºçš„åç§°")]),e._v(" "),a("td",[e._v("mysql")]),e._v(" "),a("td",[e._v("å­—ç¬¦ä¸²")])]),e._v(" "),a("tr",[a("td",[e._v("app.kubernetes.io/instance")]),e._v(" "),a("td",[e._v("ç”¨äºå”¯ä¸€ç¡®å®šåº”ç”¨å®ä¾‹çš„åç§°")]),e._v(" "),a("td",[e._v("wordpress-abcxzy")]),e._v(" "),a("td",[e._v("å­—ç¬¦ä¸²")])]),e._v(" "),a("tr",[a("td",[e._v("app.kubernetes.io/version")]),e._v(" "),a("td",[e._v("åº”ç”¨ç¨‹åºçš„å½“å‰ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼Œè¯­ä¹‰ç‰ˆæœ¬ï¼Œä¿®è®¢ç‰ˆå“ˆå¸Œç­‰ï¼‰")]),e._v(" "),a("td",[e._v("5.7.21")]),e._v(" "),a("td",[e._v("å­—ç¬¦ä¸²")])]),e._v(" "),a("tr",[a("td",[e._v("app.kubernetes.io/component")]),e._v(" "),a("td",[e._v("æ¶æ„ä¸­çš„ç»„ä»¶")]),e._v(" "),a("td",[e._v("database")]),e._v(" "),a("td",[e._v("å­—ç¬¦ä¸²")])]),e._v(" "),a("tr",[a("td",[e._v("app.kubernetes.io/part-of")]),e._v(" "),a("td",[e._v("æ­¤çº§åˆ«çš„æ›´é«˜çº§åˆ«åº”ç”¨ç¨‹åºçš„åç§°")]),e._v(" "),a("td",[e._v("wordpress")]),e._v(" "),a("td",[e._v("å­—ç¬¦ä¸²")])]),e._v(" "),a("tr",[a("td",[e._v("app.kubernetes.io/managed-by")]),e._v(" "),a("td",[e._v("ç”¨äºç®¡ç†åº”ç”¨ç¨‹åºçš„å·¥å…·")]),e._v(" "),a("td",[e._v("helm")]),e._v(" "),a("td",[e._v("å­—ç¬¦ä¸²")])])]),e._v("\nä¸ºè¯´æ˜è¿™äº›æ ‡ç­¾çš„å®é™…ä½¿ç”¨æƒ…å†µï¼Œè¯·çœ‹ä¸‹é¢çš„ StatefulSet å¯¹è±¡ï¼š\n"),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" StatefulSet\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" mysql\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("abcxzy\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"5.7.21"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" database\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/part-of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/managed-by")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" helm\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br")])]),a("h3",{attrs:{id:"åº”ç”¨å’Œåº”ç”¨å®ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨å’Œåº”ç”¨å®ä¾‹","aria-hidden":"true"}},[e._v("#")]),e._v(" åº”ç”¨å’Œåº”ç”¨å®ä¾‹")]),e._v(" "),a("p",[e._v("åº”ç”¨å¯ä»¥åœ¨ Kubernetes é›†ç¾¤ä¸­å®‰è£…ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯ä»¥å®‰è£…åœ¨åŒä¸€å‘½åç©ºé—´ä¸­ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä¸æ­¢ä¸€æ¬¡åœ°ä¸ºä¸åŒçš„ç«™ç‚¹å®‰è£…ä¸åŒçš„ wordpressã€‚\n"),a("br"),e._v("\nåº”ç”¨çš„åç§°å’Œå®ä¾‹çš„åç§°æ˜¯åˆ†åˆ«è®°å½•çš„ã€‚ä¾‹å¦‚ï¼ŒæŸ WordPress å®ä¾‹çš„ app.kubernetes.io/name ä¸º wordpressï¼Œè€Œå…¶å®ä¾‹åç§°è¡¨ç°ä¸º app.kubernetes.io/instance çš„å±æ€§å€¼ wordpress-abcxzyã€‚è¿™ä½¿åº”ç”¨ç¨‹åºå’Œåº”ç”¨ç¨‹åºçš„å®ä¾‹æˆä¸ºå¯èƒ½æ˜¯å¯è¯†åˆ«çš„ã€‚åº”ç”¨ç¨‹åºçš„æ¯ä¸ªå®ä¾‹éƒ½å¿…é¡»å…·æœ‰å”¯ä¸€çš„åç§°ã€‚")]),e._v(" "),a("h3",{attrs:{id:"ç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¤ºä¾‹","aria-hidden":"true"}},[e._v("#")]),e._v(" ç¤ºä¾‹")]),e._v(" "),a("p",[e._v("ä¸ºäº†è¯´æ˜ä½¿ç”¨è¿™äº›æ ‡ç­¾çš„ä¸åŒæ–¹å¼ï¼Œä»¥ä¸‹ç¤ºä¾‹å…·æœ‰ä¸åŒçš„å¤æ‚æ€§ã€‚")]),e._v(" "),a("h4",{attrs:{id:"ä¸€ä¸ªç®€å•çš„æ— çŠ¶æ€æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ä¸ªç®€å•çš„æ— çŠ¶æ€æœåŠ¡","aria-hidden":"true"}},[e._v("#")]),e._v(" ä¸€ä¸ªç®€å•çš„æ— çŠ¶æ€æœåŠ¡")]),e._v(" "),a("p",[e._v("è€ƒè™‘ä½¿ç”¨ Deployment å’Œ Service å¯¹è±¡éƒ¨ç½²çš„ç®€å•æ— çŠ¶æ€æœåŠ¡çš„æƒ…å†µã€‚ä»¥ä¸‹ä¸¤ä¸ªä»£ç æ®µè¡¨ç¤ºå¦‚ä½•ä»¥æœ€ç®€å•çš„å½¢å¼ä½¿ç”¨æ ‡ç­¾ã€‚\n"),a("br"),e._v("\nä¸‹é¢çš„ Deployment ç”¨äºç›‘ç£è¿è¡Œåº”ç”¨æœ¬èº«çš„ podsã€‚")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Deployment\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" myservice\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" myservice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("abcxzy\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("...")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("ä¸‹é¢çš„ Service ç”¨äºæš´éœ²åº”ç”¨ã€‚")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Service\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" myservice\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" myservice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("abcxzy\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("...")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("h3",{attrs:{id:"å¸¦æœ‰ä¸€ä¸ªæ•°æ®åº“çš„-web-åº”ç”¨ç¨‹åº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸¦æœ‰ä¸€ä¸ªæ•°æ®åº“çš„-web-åº”ç”¨ç¨‹åº","aria-hidden":"true"}},[e._v("#")]),e._v(" å¸¦æœ‰ä¸€ä¸ªæ•°æ®åº“çš„ Web åº”ç”¨ç¨‹åº")]),e._v(" "),a("p",[e._v("è€ƒè™‘ä¸€ä¸ªç¨å¾®å¤æ‚çš„åº”ç”¨ï¼šä¸€ä¸ªä½¿ç”¨ Helm å®‰è£…çš„ Web åº”ç”¨ï¼ˆWordPressï¼‰ï¼Œå…¶ä¸­ ä½¿ç”¨äº†æ•°æ®åº“ï¼ˆMySQLï¼‰ã€‚ä»¥ä¸‹ä»£ç ç‰‡æ®µè¯´æ˜ç”¨äºéƒ¨ç½²æ­¤åº”ç”¨ç¨‹åºçš„å¯¹è±¡çš„å¼€å§‹ã€‚\n"),a("br"),e._v("\nä»¥ä¸‹ Deployment çš„å¼€å¤´ç”¨äº WordPressï¼š\n"),a("br")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Deployment\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("abcxzy\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"4.9.4"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/managed-by")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" helm\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" server\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/part-of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("...")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("p",[e._v("è¿™ä¸ª Service ç”¨äºæš´éœ² WordPressï¼š")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Service\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("abcxzy\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"4.9.4"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/managed-by")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" helm\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" server\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/part-of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("...")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("p",[e._v("MySQL ä½œä¸ºä¸€ä¸ª StatefulSet æš´éœ²ï¼ŒåŒ…å«å®ƒå’Œå®ƒæ‰€å±çš„è¾ƒå¤§åº”ç”¨ç¨‹åºçš„å…ƒæ•°æ®ï¼š")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" StatefulSet\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" mysql\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("abcxzy\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/managed-by")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" helm\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" database\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/part-of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"5.7.21"')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("...")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("p",[e._v("Service ç”¨äºå°† MySQL ä½œä¸º WordPress çš„ä¸€éƒ¨åˆ†æš´éœ²ï¼š")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Service\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" mysql\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("abcxzy\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/managed-by")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" helm\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" database\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/part-of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wordpress\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app.kubernetes.io/version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"5.7.21"')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("...")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("p",[e._v("ä½¿ç”¨ MySQL StatefulSet å’Œ Serviceï¼Œæ‚¨ä¼šæ³¨æ„åˆ°æœ‰å…³ MySQL å’Œ Wordpress çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ›´å¹¿æ³›çš„åº”ç”¨ç¨‹åºã€‚")]),e._v(" "),a("h2",{attrs:{id:"ç†è§£-kubernetes-å¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç†è§£-kubernetes-å¯¹è±¡","aria-hidden":"true"}},[e._v("#")]),e._v(" ç†è§£ Kubernetes å¯¹è±¡")]),e._v(" "),a("p",[e._v("æœ¬é¡µè¯´æ˜äº† Kubernetes å¯¹è±¡åœ¨ Kubernetes API ä¸­æ˜¯å¦‚ä½•è¡¨ç¤ºçš„ï¼Œä»¥åŠå¦‚ä½•åœ¨ .yaml æ ¼å¼çš„æ–‡ä»¶ä¸­è¡¨ç¤ºã€‚")]),e._v(" "),a("h3",{attrs:{id:"ç†è§£-kubernetes-å¯¹è±¡-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç†è§£-kubernetes-å¯¹è±¡-2","aria-hidden":"true"}},[e._v("#")]),e._v(" ç†è§£ Kubernetes å¯¹è±¡")]),e._v(" "),a("p",[e._v("åœ¨ Kubernetes ç³»ç»Ÿä¸­ï¼ŒKubernetes å¯¹è±¡ æ˜¯æŒä¹…åŒ–çš„å®ä½“ã€‚Kubernetes ä½¿ç”¨è¿™äº›å®ä½“å»è¡¨ç¤ºæ•´ä¸ªé›†ç¾¤çš„çŠ¶æ€ã€‚ç‰¹åˆ«åœ°ï¼Œå®ƒä»¬æè¿°äº†å¦‚ä¸‹ä¿¡æ¯ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("å“ªäº›å®¹å™¨åŒ–åº”ç”¨åœ¨è¿è¡Œï¼ˆä»¥åŠåœ¨å“ªä¸ª Node ä¸Šï¼‰")]),e._v(" "),a("li",[e._v("å¯ä»¥è¢«åº”ç”¨ä½¿ç”¨çš„èµ„æº")]),e._v(" "),a("li",[e._v("å…³äºåº”ç”¨è¿è¡Œæ—¶è¡¨ç°çš„ç­–ç•¥ï¼Œæ¯”å¦‚é‡å¯ç­–ç•¥ã€å‡çº§ç­–ç•¥ï¼Œä»¥åŠå®¹é”™ç­–ç•¥\nKubernetes å¯¹è±¡æ˜¯ â€œç›®æ ‡æ€§è®°å½•â€ â€”â€” ä¸€æ—¦åˆ›å»ºå¯¹è±¡ï¼ŒKubernetes ç³»ç»Ÿå°†æŒç»­å·¥ä½œä»¥ç¡®ä¿å¯¹è±¡å­˜åœ¨ã€‚é€šè¿‡åˆ›å»ºå¯¹è±¡ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨å‘ŠçŸ¥ Kubernetes ç³»ç»Ÿï¼Œæ‰€éœ€è¦çš„é›†ç¾¤å·¥ä½œè´Ÿè½½çœ‹èµ·æ¥æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œè¿™å°±æ˜¯ Kubernetes é›†ç¾¤çš„ æœŸæœ›çŠ¶æ€ï¼ˆDesired Stateï¼‰ã€‚\n"),a("br"),e._v("\næ“ä½œ Kubernetes å¯¹è±¡ â€”â€” æ— è®ºæ˜¯åˆ›å»ºã€ä¿®æ”¹ï¼Œæˆ–è€…åˆ é™¤ â€”â€” éœ€è¦ä½¿ç”¨ "),a("a",{attrs:{href:"https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kubernetes API"),a("OutboundLink")],1),e._v("ã€‚\næ¯”å¦‚ï¼Œå½“ä½¿ç”¨ kubectl å‘½ä»¤è¡Œæ¥å£æ—¶ï¼ŒCLI ä¼šæ‰§è¡Œå¿…è¦çš„ Kubernetes API è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ç¨‹åºä¸­ä½¿ç”¨ "),a("a",{attrs:{href:"https://kubernetes.io/docs/reference/using-api/client-libraries/",target:"_blank",rel:"noopener noreferrer"}},[e._v("å®¢æˆ·ç«¯åº“"),a("OutboundLink")],1),e._v(" ç›´æ¥è°ƒç”¨ Kubernetes APIã€‚")])]),e._v(" "),a("h3",{attrs:{id:"å¯¹è±¡è§„çº¦ï¼ˆspecï¼‰ä¸çŠ¶æ€ï¼ˆstatusï¼‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è±¡è§„çº¦ï¼ˆspecï¼‰ä¸çŠ¶æ€ï¼ˆstatusï¼‰","aria-hidden":"true"}},[e._v("#")]),e._v(" å¯¹è±¡è§„çº¦ï¼ˆSpecï¼‰ä¸çŠ¶æ€ï¼ˆStatusï¼‰")]),e._v(" "),a("p",[e._v("æ¯ä¸ª Kubernetes å¯¹è±¡åŒ…å«ä¸¤ä¸ªåµŒå¥—çš„å¯¹è±¡å­—æ®µï¼Œå®ƒä»¬è´Ÿè´£ç®¡ç†å¯¹è±¡çš„é…ç½®ï¼šå¯¹è±¡ spec å’Œ å¯¹è±¡ status ã€‚ spec æ˜¯å¿…éœ€çš„ï¼Œå®ƒæè¿°äº†å¯¹è±¡çš„ æœŸæœ›çŠ¶æ€ï¼ˆDesired Stateï¼‰ â€”â€” å¸Œæœ›å¯¹è±¡æ‰€å…·æœ‰çš„ç‰¹å¾ã€‚ status æè¿°äº†å¯¹è±¡çš„ å®é™…çŠ¶æ€ï¼ˆActual Stateï¼‰ ï¼Œå®ƒæ˜¯ç”± Kubernetes ç³»ç»Ÿæä¾›å’Œæ›´æ–°çš„ã€‚åœ¨ä»»ä½•æ—¶åˆ»ï¼ŒKubernetes æ§åˆ¶é¢ä¸€ç›´åŠªåŠ›åœ°ç®¡ç†ç€å¯¹è±¡çš„å®é™…çŠ¶æ€ä»¥ä¸æœŸæœ›çŠ¶æ€ç›¸åŒ¹é…ã€‚\n"),a("br"),e._v("\nä¾‹å¦‚ï¼ŒKubernetes Deployment å¯¹è±¡èƒ½å¤Ÿè¡¨ç¤ºè¿è¡Œåœ¨é›†ç¾¤ä¸­çš„åº”ç”¨ã€‚ å½“åˆ›å»º Deployment æ—¶ï¼Œå¯èƒ½éœ€è¦è®¾ç½® Deployment çš„è§„çº¦ï¼Œä»¥æŒ‡å®šè¯¥åº”ç”¨éœ€è¦æœ‰ 3 ä¸ªå‰¯æœ¬åœ¨è¿è¡Œã€‚ Kubernetes ç³»ç»Ÿè¯»å– Deployment è§„çº¦ï¼Œå¹¶å¯åŠ¨æˆ‘ä»¬æ‰€æœŸæœ›çš„è¯¥åº”ç”¨çš„ 3 ä¸ªå®ä¾‹ â€”â€” æ›´æ–°çŠ¶æ€ä»¥ä¸è§„çº¦ç›¸åŒ¹é…ã€‚ å¦‚æœé‚£äº›å®ä¾‹ä¸­æœ‰å¤±è´¥çš„ï¼ˆä¸€ç§çŠ¶æ€å˜æ›´ï¼‰ï¼ŒKubernetes ç³»ç»Ÿé€šè¿‡ä¿®æ­£æ¥å“åº”è§„çº¦å’ŒçŠ¶æ€ä¹‹é—´çš„ä¸ä¸€è‡´ â€”â€” è¿™ç§æƒ…å†µï¼Œä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„å®ä¾‹æ¥æ›¿æ¢ã€‚\nå…³äºå¯¹è±¡ specã€status å’Œ metadata çš„æ›´å¤šä¿¡æ¯ï¼ŒæŸ¥çœ‹ "),a("a",{attrs:{href:"https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kubernetes API"),a("OutboundLink")],1),e._v(" çº¦å®šã€‚")]),e._v(" "),a("h3",{attrs:{id:"æè¿°-kubernetes-å¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æè¿°-kubernetes-å¯¹è±¡","aria-hidden":"true"}},[e._v("#")]),e._v(" æè¿° Kubernetes å¯¹è±¡")]),e._v(" "),a("p",[e._v("å½“åˆ›å»º Kubernetes å¯¹è±¡æ—¶ï¼Œå¿…é¡»æä¾›å¯¹è±¡çš„è§„çº¦ï¼Œç”¨æ¥æè¿°è¯¥å¯¹è±¡çš„æœŸæœ›çŠ¶æ€ï¼Œä»¥åŠå…³äºå¯¹è±¡çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼ˆä¾‹å¦‚åç§°ï¼‰ã€‚ å½“ä½¿ç”¨ Kubernetes API åˆ›å»ºå¯¹è±¡æ—¶ï¼ˆæˆ–è€…ç›´æ¥åˆ›å»ºï¼Œæˆ–è€…åŸºäºkubectlï¼‰ï¼ŒAPI è¯·æ±‚å¿…é¡»åœ¨è¯·æ±‚ä½“ä¸­åŒ…å« JSON æ ¼å¼çš„ä¿¡æ¯ã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œéœ€è¦åœ¨ .yaml æ–‡ä»¶ä¸­ä¸º kubectl æä¾›è¿™äº›ä¿¡æ¯ã€‚ kubectl åœ¨å‘èµ· API è¯·æ±‚æ—¶ï¼Œå°†è¿™äº›ä¿¡æ¯è½¬æ¢æˆ JSON æ ¼å¼ã€‚\n"),a("br"),e._v("\nè¿™é‡Œæœ‰ä¸€ä¸ª .yaml ç¤ºä¾‹æ–‡ä»¶ï¼Œå±•ç¤ºäº† Kubernetes Deployment çš„å¿…éœ€å­—æ®µå’Œå¯¹è±¡è§„çº¦ï¼š")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" apps/v1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# for versions before 1.9.0 use apps/v1beta2")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Deployment\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("deployment\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("selector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("matchLabels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2 ")]),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# tells deployment to run 2 pods matching the template")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("1.7.9\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("containerPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br")])]),a("p",[e._v("ä½¿ç”¨ç±»ä¼¼äºä¸Šé¢çš„ .yaml æ–‡ä»¶æ¥åˆ›å»º Deploymentï¼Œä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨ kubectl å‘½ä»¤è¡Œæ¥å£ï¼ˆCLIï¼‰ä¸­çš„ kubectl apply å‘½ä»¤ï¼Œ å°† .yaml æ–‡ä»¶ä½œä¸ºå‚æ•°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹")]),e._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[e._v("kubectl apply "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("f https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("//k8s.io/examples/application/deployment.yaml "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("record\nè¾“å‡ºç±»ä¼¼å¦‚ä¸‹è¿™æ ·ï¼š\ndeployment.apps/nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("deployment created\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h3",{attrs:{id:"å¿…éœ€å­—æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¿…éœ€å­—æ®µ","aria-hidden":"true"}},[e._v("#")]),e._v(" å¿…éœ€å­—æ®µ")]),e._v(" "),a("p",[e._v("åœ¨æƒ³è¦åˆ›å»ºçš„ Kubernetes å¯¹è±¡å¯¹åº”çš„ .yaml æ–‡ä»¶ä¸­ï¼Œéœ€è¦é…ç½®å¦‚ä¸‹çš„å­—æ®µï¼š")]),e._v(" "),a("ul",[a("li",[e._v("apiVersion - åˆ›å»ºè¯¥å¯¹è±¡æ‰€ä½¿ç”¨çš„ Kubernetes API çš„ç‰ˆæœ¬")]),e._v(" "),a("li",[e._v("kind - æƒ³è¦åˆ›å»ºçš„å¯¹è±¡çš„ç±»å‹")]),e._v(" "),a("li",[e._v("metadata - å¸®åŠ©è¯†åˆ«å¯¹è±¡å”¯ä¸€æ€§çš„æ•°æ®ï¼ŒåŒ…æ‹¬ä¸€ä¸ª name å­—ç¬¦ä¸²ã€UID å’Œå¯é€‰çš„ namespace")])]),e._v(" "),a("p",[e._v("ä¹Ÿéœ€è¦æä¾›å¯¹è±¡çš„ spec å­—æ®µã€‚å¯¹è±¡ spec çš„ç²¾ç¡®æ ¼å¼å¯¹æ¯ä¸ª Kubernetes å¯¹è±¡æ¥è¯´æ˜¯ä¸åŒçš„ï¼ŒåŒ…å«äº†ç‰¹å®šäºè¯¥å¯¹è±¡çš„åµŒå¥—å­—æ®µã€‚\nKubernetes API å‚è€ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°ä»»ä½•æˆ‘ä»¬æƒ³åˆ›å»ºçš„å¯¹è±¡çš„ spec æ ¼å¼ã€‚\nä¾‹å¦‚ï¼Œå¯ä»¥ä» "),a("a",{attrs:{href:"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.16/#podspec-v1-core",target:"_blank",rel:"noopener noreferrer"}},[e._v("è¿™é‡Œ"),a("OutboundLink")],1),e._v(" æŸ¥çœ‹ Pod çš„ spec æ ¼å¼ï¼Œ\nå¹¶ä¸”å¯ä»¥ä» "),a("a",{attrs:{href:"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.16/#deploymentspec-v1-apps",target:"_blank",rel:"noopener noreferrer"}},[e._v("è¿™é‡Œ"),a("OutboundLink")],1),e._v(" æŸ¥çœ‹ Deployment çš„ spec æ ¼å¼ã€‚")])])}),[],!1,null,null,null);t.default=n.exports}}]);